(function (name, definition, context) { if (typeof context['module'] !== 'undefined' && context['module']['exports']) { context['module']['exports'] = definition.apply(context); } else if (typeof context['define'] !== 'undefined' && context['define'] === 'function' && context['define']['amd']) { define(name, [], definition); } else { context[name] = definition(); } })('ydn', function () {
    var l, q = this; function r(a) { return void 0 !== a } function aa() { }
    function ba(a) {
        var b = typeof a; if ("object" == b) if (a) { if (a instanceof Array) return "array"; if (a instanceof Object) return b; var c = Object.prototype.toString.call(a); if ("[object Window]" == c) return "object"; if ("[object Array]" == c || "number" == typeof a.length && "undefined" != typeof a.splice && "undefined" != typeof a.propertyIsEnumerable && !a.propertyIsEnumerable("splice")) return "array"; if ("[object Function]" == c || "undefined" != typeof a.call && "undefined" != typeof a.propertyIsEnumerable && !a.propertyIsEnumerable("call")) return "function" } else return "null";
        else if ("function" == b && "undefined" == typeof a.call) return "object"; return b
    } function t(a) { return "array" == ba(a) } function w(a) { var b = ba(a); return "array" == b || "object" == b && "number" == typeof a.length } function x(a) { return "string" == typeof a } function ca(a) { return "boolean" == typeof a } function z(a) { return "number" == typeof a } function da(a) { return "function" == ba(a) } function B(a) { var b = typeof a; return "object" == b && null != a || "function" == b } var ea = "closure_uid_" + (1E9 * Math.random() >>> 0), fa = 0;
    function ga(a, b, c) { return a.call.apply(a.bind, arguments) } function ha(a, b, c) { if (!a) throw Error(); if (2 < arguments.length) { var d = Array.prototype.slice.call(arguments, 2); return function () { var c = Array.prototype.slice.call(arguments); Array.prototype.unshift.apply(c, d); return a.apply(b, c) } } return function () { return a.apply(b, arguments) } } function ia(a, b, c) { ia = Function.prototype.bind && -1 != Function.prototype.bind.toString().indexOf("native code") ? ga : ha; return ia.apply(null, arguments) }
    function ja(a, b) { var c = Array.prototype.slice.call(arguments, 1); return function () { var b = c.slice(); b.push.apply(b, arguments); return a.apply(this, b) } } var ka = Date.now || function () { return +new Date }; function ma(a, b) { var c = a.split("."), d = q; c[0] in d || !d.execScript || d.execScript("var " + c[0]); for (var e; c.length && (e = c.shift()) ;) !c.length && r(b) ? d[e] = b : d[e] ? d = d[e] : d = d[e] = {} }
    function C(a, b) { function c() { } c.prototype = b.prototype; a.D = b.prototype; a.prototype = new c; a.prototype.constructor = a; a.Eb = function (a, c, f) { for (var g = Array(arguments.length - 2), h = 2; h < arguments.length; h++) g[h - 2] = arguments[h]; return b.prototype[c].apply(a, g) } }; function na(a) { a.prototype.then = a.prototype.then; a.prototype.$goog_Thenable = !0 } function oa(a) { if (!a) return !1; try { return !!a.$goog_Thenable } catch (b) { return !1 } }; function pa(a) { if (Error.captureStackTrace) Error.captureStackTrace(this, pa); else { var b = Error().stack; b && (this.stack = b) } a && (this.message = String(a)) } C(pa, Error); pa.prototype.name = "CustomError"; function qa(a) { for (var b = 0; 1 > b; b++) if ('"' == a.charAt(0) && '"' == a.charAt(a.length - 1)) return a.substring(1, a.length - 1); return a } var ra = { "\x00": "\\0", "\b": "\\b", "\f": "\\f", "\n": "\\n", "\r": "\\r", "\t": "\\t", "\x0B": "\\x0B", '"': '\\"', "\\": "\\\\", "<": "<" }, sa = { "'": "\\'" };
    function ta(a) { a = String(a); for (var b = ['"'], c = 0; c < a.length; c++) { var d = a.charAt(c), e = d.charCodeAt(0), f = c + 1, g; if (!(g = ra[d])) { if (!(31 < e && 127 > e)) if (d in sa) d = sa[d]; else if (d in ra) d = sa[d] = ra[d]; else { e = d; g = d.charCodeAt(0); if (31 < g && 127 > g) e = d; else { if (256 > g) { if (e = "\\x", 16 > g || 256 < g) e += "0" } else e = "\\u", 4096 > g && (e += "0"); e += g.toString(16).toUpperCase() } d = sa[d] = e } g = d } b[f] = g } b.push('"'); return b.join("") }; function ua(a, b, c) { this.f = c; this.c = a; this.g = b; this.b = 0; this.a = null } ua.prototype.get = function () { var a; 0 < this.b ? (this.b--, a = this.a, this.a = a.next, a.next = null) : a = this.c(); return a }; ua.prototype.put = function (a) { this.g(a); this.b < this.f && (this.b++, a.next = this.a, this.a = a) }; function va() { this.b = this.a = null } var xa = new ua(function () { return new wa }, function (a) { a.reset() }, 100); va.prototype.add = function (a, b) { var c = xa.get(); c.a = a; c.b = b; c.next = null; this.b ? this.b.next = c : this.a = c; this.b = c }; function ya() { var a = za, b = null; a.a && (b = a.a, a.a = a.a.next, a.a || (a.b = null), b.next = null); return b } function wa() { this.next = this.b = this.a = null } wa.prototype.reset = function () { this.next = this.b = this.a = null }; var Aa = Array.prototype.indexOf ? function (a, b, c) { return Array.prototype.indexOf.call(a, b, c) } : function (a, b, c) { c = null == c ? 0 : 0 > c ? Math.max(0, a.length + c) : c; if (x(a)) return x(b) && 1 == b.length ? a.indexOf(b, c) : -1; for (; c < a.length; c++) if (c in a && a[c] === b) return c; return -1 }, Ba = Array.prototype.map ? function (a, b, c) { return Array.prototype.map.call(a, b, c) } : function (a, b, c) { for (var d = a.length, e = Array(d), f = x(a) ? a.split("") : a, g = 0; g < d; g++) g in f && (e[g] = b.call(c, f[g], g, a)); return e }, Ca = Array.prototype.some ? function (a, b, c) {
        return Array.prototype.some.call(a,
        b, c)
    } : function (a, b, c) { for (var d = a.length, e = x(a) ? a.split("") : a, f = 0; f < d; f++) if (f in e && b.call(c, e[f], f, a)) return !0; return !1 }; function Da(a, b) { var c = Ea(a, b, void 0); return 0 > c ? null : x(a) ? a.charAt(c) : a[c] } function Ea(a, b, c) { for (var d = a.length, e = x(a) ? a.split("") : a, f = 0; f < d; f++) if (f in e && b.call(c, e[f], f, a)) return f; return -1 } function Fa(a) { if (!t(a)) for (var b = a.length - 1; 0 <= b; b--) delete a[b]; a.length = 0 } function Ga(a) { var b = a.length; if (0 < b) { for (var c = Array(b), d = 0; d < b; d++) c[d] = a[d]; return c } return [] }
    function Ha(a, b, c) { return 2 >= arguments.length ? Array.prototype.slice.call(a, b) : Array.prototype.slice.call(a, b, c) } function Ia(a, b) { if (!w(a) || !w(b) || a.length != b.length) return !1; for (var c = a.length, d = Ja, e = 0; e < c; e++) if (!d(a[e], b[e])) return !1; return !0 } function Ja(a, b) { return a === b }; var Ka; a: { var La = q.navigator; if (La) { var Ma = La.userAgent; if (Ma) { Ka = Ma; break a } } Ka = "" } function D(a) { return -1 != Ka.indexOf(a) }; function Na(a, b) { for (var c = w(b), d = c ? b : arguments, c = c ? 0 : 1; c < d.length && (a = a[d[c]], r(a)) ; c++); return a }; function Oa() { return D("Opera") || D("OPR") }; function Pa(a) { q.setTimeout(function () { throw a; }, 0) } var Qa;
    function Sa() {
        var a = q.MessageChannel; "undefined" === typeof a && "undefined" !== typeof window && window.postMessage && window.addEventListener && !D("Presto") && (a = function () {
            var a = document.createElement("IFRAME"); a.style.display = "none"; a.src = ""; document.documentElement.appendChild(a); var b = a.contentWindow, a = b.document; a.open(); a.write(""); a.close(); var c = "callImmediate" + Math.random(), d = "file:" == b.location.protocol ? "*" : b.location.protocol + "//" + b.location.host, a = ia(function (a) {
                if (("*" == d || a.origin == d) && a.data ==
                c) this.port1.onmessage()
            }, this); b.addEventListener("message", a, !1); this.port1 = {}; this.port2 = { postMessage: function () { b.postMessage(c, d) } }
        }); if ("undefined" !== typeof a && !D("Trident") && !D("MSIE")) { var b = new a, c = {}, d = c; b.port1.onmessage = function () { if (r(c.next)) { c = c.next; var a = c.Pa; c.Pa = null; a() } }; return function (a) { d.next = { Pa: a }; d = d.next; b.port2.postMessage(0) } } return "undefined" !== typeof document && "onreadystatechange" in document.createElement("SCRIPT") ? function (a) {
            var b = document.createElement("SCRIPT");
            b.onreadystatechange = function () { b.onreadystatechange = null; b.parentNode.removeChild(b); b = null; a(); a = null }; document.documentElement.appendChild(b)
        } : function (a) { q.setTimeout(a, 0) }
    }; function Ta(a, b) { Ua || Va(); Wa || (Ua(), Wa = !0); za.add(a, b) } var Ua; function Va() { if (q.Promise && q.Promise.resolve) { var a = q.Promise.resolve(void 0); Ua = function () { a.then(Xa) } } else Ua = function () { var a = Xa; !da(q.setImmediate) || q.Window && q.Window.prototype && !D("Edge") && q.Window.prototype.setImmediate == q.setImmediate ? (Qa || (Qa = Sa()), Qa(a)) : q.setImmediate(a) } } var Wa = !1, za = new va; function Xa() { for (var a = null; a = ya() ;) { try { a.a.call(a.b) } catch (b) { Pa(b) } xa.put(a) } Wa = !1 }; function Ya(a, b) { this.a = Za; this.i = void 0; this.f = this.b = this.c = null; this.g = this.h = !1; if (a != aa) try { var c = this; a.call(b, function (a) { $a(c, ab, a) }, function (a) { $a(c, bb, a) }) } catch (d) { $a(this, bb, d) } } var Za = 0, ab = 2, bb = 3; function cb() { this.next = this.c = this.b = this.f = this.a = null; this.g = !1 } cb.prototype.reset = function () { this.c = this.b = this.f = this.a = null; this.g = !1 }; var db = new ua(function () { return new cb }, function (a) { a.reset() }, 100); function eb(a, b, c) { var d = db.get(); d.f = a; d.b = b; d.c = c; return d }
    Ya.prototype.then = function (a, b, c) { return fb(this, da(a) ? a : null, da(b) ? b : null, c) }; na(Ya); function gb(a) { a.a == Za && Ta(function () { var a = new hb(void 0); ib(this, a) }, a) } function ib(a, b) { if (a.a == Za) if (a.c) { var c = a.c; if (c.b) { for (var d = 0, e = null, f = null, g = c.b; g && (g.g || (d++, g.a == a && (e = g), !(e && 1 < d))) ; g = g.next) e || (f = g); e && (c.a == Za && 1 == d ? ib(c, b) : (f ? (d = f, d.next == c.f && (c.f = d), d.next = d.next.next) : lb(c), mb(c, e, bb, b))) } a.c = null } else $a(a, bb, b) } function nb(a, b) { a.b || a.a != ab && a.a != bb || ob(a); a.f ? a.f.next = b : a.b = b; a.f = b }
    function fb(a, b, c, d) { var e = eb(null, null, null); e.a = new Ya(function (a, g) { e.f = b ? function (c) { try { var e = b.call(d, c); a(e) } catch (n) { g(n) } } : a; e.b = c ? function (b) { try { var e = c.call(d, b); !r(e) && b instanceof hb ? g(b) : a(e) } catch (n) { g(n) } } : g }); e.a.c = a; nb(a, e); return e.a } Ya.prototype.m = function (a) { this.a = Za; $a(this, ab, a) }; Ya.prototype.s = function (a) { this.a = Za; $a(this, bb, a) };
    function $a(a, b, c) { if (a.a == Za) { a == c && (b = bb, c = new TypeError("Promise cannot resolve to itself")); a.a = 1; var d; a: { var e = c, f = a.m, g = a.s; if (e instanceof Ya) nb(e, eb(f || aa, g || null, a)), d = !0; else if (oa(e)) e.then(f, g, a), d = !0; else { if (B(e)) try { var h = e.then; if (da(h)) { pb(e, h, f, g, a); d = !0; break a } } catch (k) { g.call(a, k); d = !0; break a } d = !1 } } d || (a.i = c, a.a = b, a.c = null, ob(a), b != bb || c instanceof hb || qb(a, c)) } }
    function pb(a, b, c, d, e) { function f(a) { h || (h = !0, d.call(e, a)) } function g(a) { h || (h = !0, c.call(e, a)) } var h = !1; try { b.call(a, g, f) } catch (k) { f(k) } } function ob(a) { a.h || (a.h = !0, Ta(a.j, a)) } function lb(a) { var b = null; a.b && (b = a.b, a.b = b.next, b.next = null); a.b || (a.f = null); return b } Ya.prototype.j = function () { for (var a = null; a = lb(this) ;) mb(this, a, this.a, this.i); this.h = !1 };
    function mb(a, b, c, d) { if (c == bb && b.b && !b.g) for (; a && a.g; a = a.c) a.g = !1; if (b.a) b.a.c = null, rb(b, c, d); else try { b.g ? b.f.call(b.c) : rb(b, c, d) } catch (e) { sb.call(null, e) } db.put(b) } function rb(a, b, c) { b == ab ? a.f.call(a.c, c) : a.b && a.b.call(a.c, c) } function qb(a, b) { a.g = !0; Ta(function () { a.g && sb.call(null, b) }) } var sb = Pa; function hb(a) { pa.call(this, a) } C(hb, pa); hb.prototype.name = "cancel";/*
 Portions of this code are from MochiKit, received by
 The Closure Authors under the MIT license. All other code is Copyright
 2005-2009 The Closure Authors. All Rights Reserved.
*/
    function E(a, b) { this.j = []; this.U = b || null; this.b = this.c = !1; this.g = void 0; this.da = this.H = this.m = !1; this.i = 0; this.f = null; this.B = 0 } l = E.prototype; l.ka = function (a, b) { this.m = !1; tb(this, a, b) }; function tb(a, b, c) { a.c = !0; a.g = c; a.b = !b; a.Ba() } function ub(a) { if (a.c) { if (!a.da) throw new vb; a.da = !1 } } l.callback = function (a) { ub(this); tb(this, !0, a) }; l.l = function (a) { ub(this); tb(this, !1, a) }; l.A = function (a, b) { return F(this, a, null, b) }; l.Na = function (a, b) { return F(this, null, a, b) }; l.Ma = function (a, b) { return F(this, a, a, b) };
    function F(a, b, c, d) { a.j.push([b, c, d]); a.c && a.Ba(); return a } l.then = function (a, b, c) { var d, e, f = new Ya(function (a, b) { d = a; e = b }); F(this, d, function (a) { e(a) }); return f.then(a, b, c) }; na(E); E.prototype.va = function (a) { F(this, a.callback, a.l, a); return this }; function wb(a, b) { b instanceof E ? a.A(ia(b.X, b)) : a.A(function () { return b }) } E.prototype.X = function (a) { var b = new E; this.va(b); a && (b.f = this, this.B++); return b }; function xb(a) { return Ca(a.j, function (a) { return da(a[1]) }) }
    E.prototype.Ba = function () {
        this.i && this.c && xb(this) && (yb(this.i), this.i = 0); this.f && (this.f.B--, delete this.f); for (var a = this.g, b = !1, c = !1; this.j.length && !this.m;) { var d = this.j.shift(), e = d[0], f = d[1], d = d[2]; if (e = this.b ? f : e) try { var g = e.call(d || this.U, a); r(g) && (this.b = this.b && (g == a || g instanceof Error), this.g = a = g); if (oa(a) || "function" === typeof q.Promise && a instanceof q.Promise) this.m = c = !0 } catch (h) { a = h, this.b = !0, xb(this) || (b = !0) } } this.g = a; c && (c = ia(this.ka, this, !0), g = ia(this.ka, this, !1), a instanceof E ? (F(a,
        c, g), a.H = !0) : a.then(c, g)); b && (a = new zb(a), Ab[a.a] = a, this.i = a.a)
    }; function vb() { pa.call(this) } C(vb, pa); vb.prototype.message = "Deferred has already fired"; vb.prototype.name = "AlreadyCalledError"; function zb(a) { this.a = q.setTimeout(ia(this.c, this), 0); this.b = a } zb.prototype.c = function () { delete Ab[this.a]; window.console.error(this.b.stack); throw this.b; }; var Ab = {}; function yb(a) { var b = Ab[a]; b && (q.clearTimeout(b.a), delete Ab[a]) }; function Bb() { return D("iPhone") && !D("iPod") && !D("iPad") }; var Cb = Oa(), Db = D("Trident") || D("MSIE"), Eb = D("Edge"), Fb = D("Gecko") && !(-1 != Ka.toLowerCase().indexOf("webkit") && !D("Edge")) && !(D("Trident") || D("MSIE")) && !D("Edge"), Gb = -1 != Ka.toLowerCase().indexOf("webkit") && !D("Edge"); function Hb() { var a = Ka; if (Fb) return /rv\:([^\);]+)(\)|;)/.exec(a); if (Eb) return /Edge\/([\d\.]+)/.exec(a); if (Db) return /\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(a); if (Gb) return /WebKit\/(\S+)/.exec(a) }
    (function () { if (Cb && q.opera) { var a; var b = q.opera.version; try { a = b() } catch (c) { a = b } return a } a = ""; (b = Hb()) && (a = b ? b[1] : ""); return Db && (b = (b = q.document) ? b.documentMode : void 0, b > parseFloat(a)) ? String(b) : a })(); function Ib() { } function Jb() { }; function G(a) { pa.call(this, a); this.name = "ydn.error.ArgumentException" } C(G, pa); function Kb(a) { pa.call(this, a); this.name = "ydn.error.NotSupportedException" } C(Kb, pa); function Lb(a) { pa.call(this, a); this.name = "ydn.error.InvalidOperationException" } C(Lb, pa); function Mb(a) { Error.captureStackTrace ? Error.captureStackTrace(this, Mb) : this.stack = Error().stack || ""; a && (this.message = String(a)); this.name = "ydn.error.InternalError" } C(Mb, Error); Mb.prototype.name = "ydn.error.InternalError"; function Nb(a, b) { E.call(this, 0, b); this.h = [] } C(Nb, E); l = Nb.prototype; l.Oa = function (a, b) { this.h.push([a, b]); return this }; function Ob(a, b) { for (var c = 0; c < a.h.length; c++) a.h[c][0].call(a.h[c][1], b) } l.callback = function (a) { this.h.length = 0; Nb.D.callback.call(this, a) }; l.l = function (a) { this.h.length = 0; Nb.D.l.call(this, a) }; l.va = function (a) { Nb.D.va.call(this, a); a instanceof Nb && a.Oa(function (a) { Ob(this, a) }, this); return this }; l.vb = function () { return this }; var Pb = { READ_ONLY: "readonly", READ_WRITE: "readwrite", VERSION_CHANGE: "versionchange" }, Qb = Pb.READ_ONLY, H = Pb.READ_WRITE, Rb = Pb.VERSION_CHANGE, Sb = q.indexedDB; E.prototype.done = E.prototype.A; E.prototype.fail = E.prototype.Na; E.prototype.always = E.prototype.Ma; Nb.prototype.then = Nb.prototype.then; function Tb(a, b) { var c, d; 2 == arguments.length && x(arguments[1]) ? (c = !0, d = arguments[1].split(".")) : d = (c = w(b)) ? b : arguments; for (c = c ? 0 : 1; c < d.length && (a = a[d[c]], r(a)) ; c++); return a } function Ub(a, b, c) { if (a) if (-1 == b.indexOf(".")) a[b] = c; else { b = b.split("."); for (var d = b.pop(), e; e = b.shift() ;) B(a[e]) || (a[e] = {}), a = a[e]; a[d] = c } } var Vb = {};
    function Wb(a) {
        var b = [a]; a = new Xb; for (var c = 0, d, e; void 0 !== (e = b.pop()) ;) {
            0 === c % 4 && 12 < c + 4 && (a.write(c), c = 0); d = typeof e; if (e instanceof Array) if (c += 4, 0 < e.length) { b.push(Vb); for (d = e.length; d--;) b.push(e[d]); continue } else a.write(c); else if ("number" === d) c += 1, a.write(c), Yb(a, e); else if (e instanceof Date) c += 2, a.write(c), Yb(a, e.valueOf()); else if ("string" === d) {
                c += 3; a.write(c); c = a; for (d = 0; d < e.length; d++) {
                    var f = e.charCodeAt(d); 126 >= f ? c.write(f + 1) : 16510 >= f ? (f -= 127, c.write(128 | f >> 8, f & 255)) : c.write(192 | f >> 10,
                    f >> 2 | 255, (f | 3) << 6)
                } c.write(0)
            } else if (e === Vb) a.write(0); else return ""; c = 0
        } for (b = a.a.length; "00" === a.a[--b];); a.a.length = ++b; return a.toString()
    }
    function Yb(a, b) {
        var c, d, e; c = b; var f = e = d = 0; if (0 !== c) if (isFinite(c)) { 0 > c && (d = 1, c = -c); f = 0; if (2.2250738585072014E-308 <= c) { for (e = c; 1 > e;) f--, e *= 2; for (; 2 <= e;) f++, e /= 2; e = f + 1023 } f = e ? Math.floor(4503599627370496 * (c / Math.pow(2, f) - 1)) : Math.floor(c / 4.9E-324) } else e = 2047, isNaN(c) ? f = 0x8000000000000 : -Infinity === c && (d = 1); c = d; d = e; e = f; c && (e = 0xfffffffffffff - e, d = 2047 - d); a.write((c ? 0 : 128) | d >> 4); a.write((d & 15) << 4 | 0 | e / 281474976710656); e %= 281474976710656; c = 0 | e / 4294967296; a.write(c >> 8, c & 255); e %= 4294967296; c = 0 | e / 65536; a.write(c >>
        8, c & 255); c = e % 65536; a.write(c >> 8, c & 255)
    } function Zb(a) { var b = $b(a) | 0, c = b >> 7 ? !1 : !0, d = c ? -1 : 1, e = (b & 127) << 4, b = $b(a) | 0, e = e + (b >> 4); c && (e = 2047 - e); for (var b = [c ? 15 - (b & 15) : b & 15], f = 6; f--;) b.push(c ? 255 - ($b(a) | 0) : $b(a) | 0); a = 0; for (f = 7; f--;) a = a / 256 + b[f]; a /= 16; return 0 === a && 0 === e ? 0 : (a + 1) * Math.pow(2, e - 1023) * d }
    function ac(a) { for (var b = [], c = 0, d = 0, e = 0, f, g; ;) { f = $b(a); if (0 === f || null == f) break; 0 === c ? (g = f >> 6, 2 > g && !isNaN(f) ? b.push(String.fromCharCode(f - 1)) : (c = g, d = f << 10, e++)) : 2 === c ? (b.push(String.fromCharCode(d + f + 127)), c = d = e = 0) : 2 === e ? (d += f << 2, e++) : (b.push(String.fromCharCode(d | f >> 6)), c = d = e = 0) } return b.join("") } function bc(a) { this.a = null; this.b = a; this.c = this.b.length - 1; this.index = -1 } function $b(a) { return a.a = a.index < a.c ? parseInt(a.b.charAt(++a.index) + a.b.charAt(++a.index), 16) : null }
    function Xb() { this.a = []; this.b = void 0 } Xb.prototype.write = function (a) { for (var b = 0; b < arguments.length; b++) this.b = arguments[b].toString(16), this.a.push(2 === this.b.length ? this.b : this.b = "0" + this.b) }; Xb.prototype.toString = function () { return this.a.length ? this.a.join("") : "" }; function dc(a, b) { var c = Wb(a), d = Wb(b); return c > d ? 1 : c == d ? 0 : -1 }; function I(a, b, c) { Nb.call(this, b, c); this.v = a; this.h = []; this.s = []; this.ea = []; this.a = null; this.Z = ""; this.K = 0 } C(I, Nb); l = I.prototype; l.Z = ""; l.logger = null; function ec(a, b, c) { a.a = b; a.Z = c; if (b) { for (c = 0; c < a.s.length; c++) a.s[c][0].call(a.s[c][1], b); a.s.length = 0 } } function fc(a) { var b = new I(a.v); a.K++; ec(b, a.a, a.Z + "C" + a.K); return b } l.mb = function () { return !!this.a };
    l.abort = function () { if (this.a) if (da(this.a.abort)) this.a.abort(); else if (da(this.a.executeSql)) this.a.executeSql("ABORT", [], function () { }, function () { return !0 }); else throw new Kb; else throw new gc(""); }; function J(a, b, c) { var d = a.ea.shift(); c = !!c; d ? d[0].call(d[1], b, c, function (b, c) { J(a, b, c) }) : c ? a.l(b) : a.callback(b) } function hc(a, b, c) { a.ea.push([b, c]) } function K(a, b, c) { a.a ? b.call(c, a.a) : a.s.push([b, c]) } l.callback = function (a) { I.D.callback.call(this, a) }; l.l = function (a) { I.D.l.call(this, a) };
    function ic(a) { var b = ""; a.Z && (b = a.a ? "*" : "", b = "[" + a.Z + b + "]"); return a.v + b } function jc(a, b) { var c = new I(a); J(c, b); return c } l.toString = function () { return "Request:" + ic(this) };
    l.Ba = function () { this.i && this.c && xb(this) && (yb(this.i), this.i = 0); this.f && (this.f.B--, delete this.f); for (var a = this.g, b = !1; this.j.length && !this.m;) { var c = this.j.shift(), d = c[0], e = c[1], c = c[2]; if (d = this.b ? e : d) d = d.call(c || this.U, a), r(d) && (this.b = this.b && (d == a || d instanceof Error), this.g = a = d), oa(a) && (this.m = b = !0) } this.g = a; b && (b = ia(this.ka, this, !0), d = ia(this.ka, this, !1), a instanceof E ? (F(a, b, d), a.H = !0) : a.then(b, d)) };
    l.toJSON = function () { var a = (this.Z || "").match(/B(\d+)T(\d+)(?:Q(\d+?))?(?:R(\d+))?/) || []; return { method: this.v ? this.v.split(":") : [], branchNo: parseFloat(a[1]), transactionNo: parseFloat(a[2]), queueNo: parseFloat(a[3]), requestNo: parseFloat(a[4]) } }; var M = Sb && Sb.cmp ? ia(Sb.cmp, Sb) : dc, kc = []; var lc = D("Safari") && !((D("Chrome") || D("CriOS")) && !Oa() && !D("Edge") || D("Coast") || Oa() || D("Edge") || D("Silk") || D("Android")) && !(Bb() || D("iPad") || D("iPod")); function mc() { 0 != nc && (this[ea] || (this[ea] = ++fa)); this.da = this.da; this.kb = this.kb } var nc = 0; mc.prototype.da = !1; function oc(a, b) { this.type = a; this.target = b } oc.prototype.preventDefault = function () { }; function pc(a, b) { oc.call(this, a, b) } C(pc, oc); pc.prototype.a = function () { return this.b }; function qc(a, b, c, d, e) { oc.call(this, a, b); this.version = c; this.hb = d; this.Wa = e } C(qc, pc); l = qc.prototype; l.name = "ReadyEvent"; l.version = NaN; l.hb = NaN; l.Wa = null; l.Cb = function () { return this.version }; l.pb = function () { return this.hb }; l.ob = function () { return this.Wa }; function rc(a, b, c) { oc.call(this, c || "error", a); this.error = b } C(rc, pc); rc.prototype.toString = function () { return this.name + ":" + (this.error ? this.error : "") };
    rc.prototype.name = "ErrorEvent"; rc.prototype.error = null; rc.prototype.c = function () { return this.error }; function sc(a, b) { rc.call(this, a, b, "fail") } C(sc, rc); sc.prototype.name = "FailEvent"; function tc(a, b, c) { var d; if (B(a)) d = a.store, b = a.id, null != a.parent && (c = new tc(a.parent)); else if (r(b)) d = a; else if (d = a.lastIndexOf("^|"), b = a, 0 < d && (b = a.substr(d), c = new tc(a.substring(0, d))), b = b.split("^:"), d = b[0], b = b[1], !r(b)) throw Error("Invalid key value: " + a); this.b = d; this.a = b; this.c = c || null } l = tc.prototype; l.toJSON = function () { var a = { store: this.b, id: this.a }; this.c && (a.parent = this.c.toJSON()); return a }; l.valueOf = function () { return (this.c ? this.c.valueOf() + "^|" : "") + this.b + "^:" + this.a };
    l.toString = function () { return this.valueOf().replace("^|", "|").replace("^:", ":") }; l.xb = function () { return this.b }; l.nb = function () { return this.a }; function uc(a) { return t(a.a) ? a.a.join("^|") : a.a instanceof Date ? +a.a : a.a } l.wb = function () { return this.c }; function vc(a) { if (w(a)) { for (var b = [], c = 0, d = a.length; c < d; c++) b[c] = a[c]; return b } return a }; function N(a, b, c, d) { a > b && (b = a = void 0); null === a && (a = void 0); null === b && (b = void 0); this.lower = a; this.upper = b; this.lowerOpen = !!c; this.upperOpen = !!d } N.prototype.lower = void 0; N.prototype.upper = void 0; N.prototype.toJSON = function () { var a; a = this || {}; return { lower: a.lower, upper: a.upper, lowerOpen: a.lowerOpen, upperOpen: a.upperOpen } }; function wc(a) { return xc(a) } function yc(a) { return new N(a, a, !1, !1) } function zc(a, b, c, d) { return new N(a, b, c, d) } function Ac(a, b) { return new N(void 0, a, void 0, !!b) }
    function Bc(a, b) { return new N(a, void 0, !!b, void 0) } function Cc(a) { var b; if (t(a)) b = Ga(a), b.push("\uffff"); else if (x(a)) b = a + "\uffff"; else if (z(a)) b = a + 2.220460492503131E-16, a -= 2.220460492503131E-16; else return yc(a); return zc(a, b, !1, !0) } function xc(a) { return null != a ? null != a.upper && null != a.lower ? Dc.bound(a.lower, a.upper, !!a.lowerOpen, !!a.upperOpen) : null != a.upper ? Dc.upperBound(a.upper, a.upperOpen) : null != a.lower ? Dc.lowerBound(a.lower, a.lowerOpen) : null : null }
    function Ec(a, b) { var c = a.lower, d = a.upper, e = a.lowerOpen, f = a.upperOpen; null != b.lower && (null == a.lower || b.lower >= a.lower) && (c = b.lower, e = b.lowerOpen || a.lowerOpen); null != b.upper && (null == a.upper || b.upper <= a.upper) && (d = b.upper, f = b.upperOpen || a.upperOpen); return zc(c, d, e, f) }
    function Fc(a, b, c, d, e) { if (c) if (c.lowerOpen || c.upperOpen || null == c.lower || null == c.upper || 0 !== M(c.lower, c.upper)) { if (null != c.lower) { var f = c.lowerOpen ? " > " : " >= "; d.push(a + f + "?"); e.push(Gc(c.lower, b)) } null != c.upper && (f = c.upperOpen ? " < " : " <= ", d.push(a + f + "?"), e.push(Gc(c.upper, b))) } else d.push(a + " = ?"), e.push(Gc(c.lower, b)) }
    function Hc(a, b, c, d) { var e, f, g, h; if ("starts" == a || "^" == a) return Cc(b); if ("<" == a || "<=" == a) e = b, g = "<" == a; else if (">" == a || ">=" == a) f = b, h = ">" == a; else if ("=" == a || "==" == a) e = f = b; else throw new G("invalid op: " + a); if ("<" == c || "<=" == c) e = d, g = "<" == c; else if (">" == c || ">=" == c) f = d, h = ">" == c; else if (r(c)) throw new G("invalid op2: " + c); return zc(f, e, h, g) } var Dc = q.IDBKeyRange || q.webkitIDBKeyRange || N; function Ic(a, b, c, d, e, f) {
        r(e) || (e = t(a) ? a.join(", ") : a); if (null != a && !x(a) && !w(a)) throw new G("index keyPath for " + e + " must be a string or array, but " + a + " is " + typeof a); !r(a) && r(e) && (a = e); this.keyPath = a; this.h = w(this.keyPath); this.a = e; this.type = Jc(b); if (r(b)) { if (!r(this.type)) throw new G("type invalid in index: " + this.a); if (t(this.keyPath)) throw new G('composite key for store "' + this.a + '" must not specified type'); } this.unique = !!c; this.multiEntry = !!d; this.i = x(this.type) ? this.type : Kc; this.f = x(e) ? e :
        t(a) ? this.keyPath.join(",") : a; this.c = ta(this.f); this.b = this.h ? null : this.keyPath.split("."); this.g = f || null
    } var Kc = "TEXT"; function Gc(a, b) { if ("DATE" == b) { if (a instanceof Date) return +a } else return null != b ? a : Wb(a) }
    function Lc(a, b) { var c; if ("DATE" == b) c = new Date(a); else if (r(b)) c = a; else { for (var d = c = [], e, f = [], g, h, k = new bc(a) ; null != $b(k) ;) if (0 === k.a) d = f.pop(); else { if (null === k.a) break; do { g = k.a / 4 | 0; e = k.a % 4; for (var n = 0; n < g; n++) h = [], d.push(h), f.push(d), d = h; if (0 === e && 12 < k.a + 4) $b(k); else break } while (1); 1 === e ? d.push(Zb(k)) : 2 === e ? d.push(new Date(Zb(k))) : 3 === e ? d.push(ac(k)) : 0 === e && (d = f.pop()) } c = c[0] } return c } var Mc = ["BLOB", "DATE", "INTEGER", "NUMERIC", Kc]; function Jc(a) { if (x(a)) return a = Aa(Mc, a), Mc[a] }
    Ic.prototype.getName = function () { return this.a }; Ic.prototype.toJSON = function () { return { name: this.a, keyPath: this.keyPath, type: this.type, unique: this.unique, multiEntry: this.multiEntry } }; Ic.prototype.clone = function () { var a = t(this.keyPath) ? Ga(this.keyPath) : this.keyPath; return new Ic(a, this.type, this.unique, this.multiEntry, this.a, this.g) };
    function Nc(a, b) { return null != a || null != b ? null != a ? null != b ? w(a) && w(b) ? Ia(a, b) ? null : "expect: " + a + ", but: " + b : Oc(a, b) ? null : "expect: " + a + ", but: " + b : "keyPath: " + a + " no longer defined" : "newly define " + b : null } Ic.prototype.hint = function (a) { if (!a) return this; var b = t(this.keyPath) ? Ga(this.keyPath) : this.keyPath, c = this.type; r(a.type) || "TEXT" != c || (c = void 0); return new Ic(b, c, this.unique, this.multiEntry, a.a) }; function Pc(a, b, c, d, e, f, g) {
        if (!x(a)) throw new G("store name must be a string"); this.f = a; this.keyPath = r(b) ? b : null; this.i = w(this.keyPath); if (null !== this.keyPath && !x(this.keyPath) && !this.i) throw new G("keyPath must be a string or array"); this.b = !!c; var h; if (null != d) { h = Jc(d); if (!r(h)) throw new G('type "' + d + '" for primary key in store "' + this.f + '" is invalid.'); if (this.i) throw new G('composite key for store "' + this.f + '" must not specified type'); } this.type = null != h ? h : this.b ? "INTEGER" : void 0; this.h = x(this.keyPath) ?
        this.keyPath.split(".") : []; this.a = e || []; a = []; for (b = 0; b < this.a.length; b++) { c = this.a[b].getName(); if (0 <= a.indexOf(c)) throw new G('index "' + c + '" already defined in store: ' + this.f); a.push(c) } this.M = !!f; this.W = !!g; this.m = x(this.type) ? this.type : Kc; this.g = t(this.keyPath) ? this.keyPath.join(",") : x(this.keyPath) ? this.keyPath : "_ROWID_"; this.c = ta(this.g); this.j = []
    } l = Pc.prototype; l.M = !1; l.W = !1;
    l.toJSON = function () { for (var a = [], b = 0; b < this.a.length; b++) a.push(this.a[b].toJSON()); return { name: this.f, keyPath: this.keyPath, autoIncrement: this.b, type: this.type, indexes: a } };
    function Qc(a) { var b = [], c = a.indexes || []; if (t(c)) for (var d = 0; d < c.length; d++) { var e; e = c[d]; e = new Ic(e.keyPath, e.type, e.unique, e.multiEntry, e.name, e.generator); r(e.keyPath) && e.keyPath === a.keyPath || b.push(e) } return new Pc(a.name, a.keyPath, a.autoIncrement, "undefined" === a.type || "null" === a.type ? void 0 : a.type, b, a.dispatchEvents, a.fixed) }
    function Rc(a, b, c, d, e, f, g) { a = Sc(a, b, c, d, e, f, g); b = ""; 0 != c && (b += "SELECT " + a.select); b += " FROM " + a.I; a.o && (b += " WHERE " + a.o); a.group && (b += " GROUP BY " + a.group); a.J && (b += " ORDER BY " + a.J); return b }
    function Sc(a, b, c, d, e, f, g) {
        var h = { select: "", I: "", o: "", group: "", J: "" }, k = a.g, n = a.c, p = null; d !== k && x(d) && (p = Tc(a, d)); var m = !!p, u = d || k, v = ta(u), y = m ? p.type : a.type, A = m && p.multiEntry; h.I = Uc(a); 6 === c ? h.select = "COUNT(" + n + ")" : 3 === c || 1 === c || 2 === c ? (h.select = n, null != d && d != k && (h.select += ", " + v)) : h.select = "*"; d = g ? "DISTINCT " : ""; k = []; A ? (A = ta("ydn.db.me:" + a.getName() + ":" + p.getName()), h.select = 6 === c ? "COUNT(" + d + A + "." + v + ")" : 3 === c || 1 === c || 2 === c ? "DISTINCT " + Uc(a) + "." + n + ", " + A + "." + v + " AS " + u : "DISTINCT " + Uc(a) + ".*, " + A + "." +
        v + " AS " + u, h.I = A + " INNER JOIN " + Uc(a) + " USING (" + n + ")", null != e && (Fc(A + "." + v, y, e, k, b), 0 < k.length && (h.o = h.o ? h.o + (" AND " + k.join(" AND ")) : k.join(" AND ")))) : null != e && (Fc(v, y, e, k, b), 0 < k.length && (h.o = h.o ? h.o + (" AND " + k.join(" AND ")) : k.join(" AND "))); m && !p.unique && g && (h.group = v); a = f ? "DESC" : "ASC"; h.J = v + " " + a; m && (h.J += ", " + n + " " + a); return h
    }
    function Vc(a, b, c, d, e, f, g, h, k) { var n, p, m, u; null != e ? (n = e.lower, p = e.upper, m = e.lowerOpen, u = e.upperOpen, f ? null != p ? (e = M(h, p), -1 == e ? (p = h, u = k) : 0 == e && (u = k || u)) : (p = h, u = k) : null != n ? (e = M(h, n), 1 == e ? (n = h, m = k) : 0 == e && (m = k || m)) : (n = h, m = k)) : f ? (p = h, u = k) : (n = h, m = k); e = new N(n, p, !!m, !!u); d = d ? Tc(a, d) : null; b = Sc(a, c, b, d ? d.f : a.g, e, f, g); b = "SELECT " + b.select + " FROM " + b.I + (b.o ? " WHERE " + b.o : "") + (b.group ? " GROUP BY " + b.group : "") + " ORDER BY " + b.J; d && (b += ", " + a.c + (f ? "DESC" : "ASC")); return b }
    function Wc(a, b, c, d, e, f, g, h, k, n) { var p = Tc(a, d), m = p.f; d = p.c; var u = a.c, v = k ? " <" : " >", v = g ? v + " " : v + "= "; g = Gc(f, p.type); h = Gc(h, a.type); p = ""; e ? (a = Sc(a, c, b, m, e, k, n), a.o += " AND ", p = d + v + "?", c.push(g)) : (e = k ? Ac(f, !0) : Bc(f, !0), a = Sc(a, c, b, m, e, k, n), p = a.o, a.o = ""); a.o += "(" + p + " OR (" + d + " = ? AND " + u + v + "?))"; c.push(g); c.push(h); return "SELECT " + a.select + " FROM " + a.I + " WHERE " + a.o + (a.group ? " GROUP BY " + a.group : "") + " ORDER BY " + a.J } l.clone = function () { return Qc(this.toJSON()) }; l.index = function (a) { return this.a[a] || null };
    function Tc(a, b) { return Da(a.a, function (a) { return a.getName() == b }) } function Xc(a, b) { for (var c = 0; c < a.a.length; c++) if (!Nc(a.a[c].keyPath, b)) return a.a[c]; return null } function Yc(a, b) { return b === a.keyPath ? !0 : Ca(a.a, function (a) { return a.getName() == b }) } function Uc(a) { return ta(a.f) }
    function Zc(a, b) { if (!b) return a; var c = a.b, d = t(a.keyPath) ? Ga(a.keyPath) : a.keyPath, e = a.type, f = Ba(a.a, function (a) { return a.clone() }); r(b.type) || "TEXT" != e || (e = void 0); t(b.keyPath) && x(d) && d == b.keyPath.join(",") && (d = Ga(b.keyPath)); for (var g = 0, h = b.a.length; g < h; g++) if (b.a[g].h) for (var k = b.a[g].getName(), n = f.length - 1; 0 <= n; n--) if (0 <= k.indexOf(f[n].getName())) { f[n] = b.a[g].clone(); break } for (g = 0; g < f.length; g++) (h = Tc(b, f[g].getName())) && (f[g] = f[g].hint(h)); return new Pc(b.f, d, c, e, f) } l.getName = function () { return this.f };
    function $c(a) { return !!a.keyPath } function ad(a, b, c) { if (b) { if (!a.keyPath && null != c) return c; if (a.i) { c = []; for (var d = 0; d < a.keyPath.length; d++) c.push(Tb(b, a.keyPath[d])); return c } if (a.keyPath) return Na(b, a.h) } } function bd(a, b, c) { for (var d = 0; d < a.h.length; d++) { var e = a.h[d]; if (d == a.h.length - 1) { b[e] = c; break } r(b[e]) || (b[e] = {}); b = b[e] } }
    function cd(a, b, c) {
        var d = [], e = []; c = r(c) ? c : ad(a, b); r(c) && (e.push(a.c), d.push(Gc(c, a.type))); for (var f = 0; f < a.a.length; f++) { var g = a.a[f]; if (!g.multiEntry && g.getName() !== a.keyPath && "_default_" != g.getName()) { var h; h = g; var k = b; if (null != k) if (w(h.keyPath)) { for (var n = [], p = 0, m = h.keyPath.length; p < m; p++) { var u = Tb(k, h.keyPath[p]); n[p] = u } h = n } else h = Tb(k, h.keyPath); else h = void 0; null != h && (d.push(Gc(h, g.type)), e.push(g.c)) } } a.W ? a.W && !a.keyPath && 0 == a.a.length && (x(b) && -1 == b.indexOf(";base64,") ? d.push(b) : d.push(P(b)),
        e.push("_default_")) : (d.push(P(b)), e.push("_default_")); a = []; for (f = d.length - 1; 0 <= f; f--) a[f] = "?"; return { Ra: e, bb: a, values: d, key: c }
    }
    function dd(a, b) {
        if (!b) return "missing store: " + a.f; if (a.f != b.f) return "store name, expect: " + a.f + ", but: " + b.f; var c = Nc(a.keyPath, b.keyPath); if (c) return "keyPath, " + c; if (r(a.b) && r(b.b) && a.b != b.b) return "autoIncrement, expect:  " + a.b + ", but: " + b.b; if (a.a.length != b.a.length) return "indexes length, expect:  " + a.a.length + ", but: " + b.a.length; if (r(a.type) && r(b.type) && (w(a.type) ? !Ia(a.type, b.type) : a.type != b.type)) return "data type, expect:  " + a.type + ", but: " + b.type; for (c = 0; c < a.a.length; c++) {
            var d = Tc(b, a.a[c].getName()),
            e; e = a.a[c]; if (d) if (e.a != d.a) e = "name, expect: " + e.a + ", but: " + d.a; else { var f = Nc(e.keyPath, d.keyPath); e = f ? "keyPath, " + f : null != e.unique && null != d.unique && e.unique != d.unique ? "unique, expect: " + e.unique + ", but: " + d.unique : null != e.multiEntry && null != d.multiEntry && e.multiEntry != d.multiEntry ? "multiEntry, expect: " + e.multiEntry + ", but: " + d.multiEntry : r(e.type) && r(d.type) && (w(e.type) ? !Ia(e.type, d.type) : e.type != d.type) ? "data type, expect: " + e.type + ", but: " + d.type : "" } else e = "no index for " + e.a; if (0 < e.length) return 'index "' +
            a.a[c].getName() + '" ' + e
        } return ""
    } function ed(a, b) { if (b) for (var c = 0; c < a.a.length; c++) { var d = a.a[c], e = b; if (d.g) { var f = d.g(e), g = typeof f; if ("string" == g || "number" == g || f instanceof Date || t(f)) { for (g = 0; g < d.b.length - 1; g++) B(e[d.b[g]]) || (e[d.b[g]] = {}); e[d.b[d.b.length - 1]] = f } } } } function R(a, b, c, d, e) { for (var f = 0; f < a.j.length; f++) d !== f && a.j[f].call(e, b, c) }; function fd(a) { return !x(a) || /^[\s\xa0]*$/.test(a) ? {} : JSON.parse(a) } function gd(a) { var b; try { b = P(a) } catch (c) { b = "" } return b ? b.substr(0, 70) + (70 < b.length ? "..." : "") : "" } function P(a) { return JSON.stringify(a, void 0, void 0) }; function hd(a) { this.a = a }; function id(a, b) { this.name = a; this.a = b } id.prototype.getName = function () { return this.name }; id.prototype.count = function () { return this.a.length }; id.prototype.index = function (a) { return this.a[a] }; function jd(a) { if (!t(a.sources)) throw new G("indexes require for full text search index " + a.name + ", but " + a.sources + " of type " + typeof a.sources + " found."); var b = a.sources.map(function (a) { return new hd(a.storeName) }); return new id(a.name, b) }; function kd(a, b) {
        var c, d, e = b; if (B(a)) { d = a; c = d.version; for (var e = [], f = d.stores || [], g = 0; g < f.length; g++) { var h = Qc(f[g]); e.push(h) } } else x(a) ? c = 0 == a.length ? void 0 : parseFloat(a) : z(a) && (c = a); if (r(c)) { if (!z(c) || 0 > c) throw new G("Invalid version: " + c + " (" + a + ")"); isNaN(c) && (c = void 0) } if (r(b) && (!t(b) || 0 < b.length && !(b[0] instanceof Pc))) throw new G("stores"); this.version = c; this.b = !r(this.version); this.stores = e || []; c = []; if (d && d.fullTextCatalogs) for (g = 0; g < d.fullTextCatalogs.length; g++) e = jd(d.fullTextCatalogs[g]),
        c[g] = e, U(this, e.getName()) || (f = [new Ic("k", Kc), new Ic("v", Kc)], e = new Pc(e.getName(), "id", !1, void 0, f, !1, !1), this.stores.push(e)); this.c = c
    } kd.prototype.toJSON = function () { var a = Ba(this.stores, function (a) { return a.toJSON() }), b = {}; b.stores = a; r(this.version) && (b.version = this.version); return b }; kd.prototype.b = !1; kd.prototype.a = function () { return !1 }; function ld(a) { return Ba(a.stores, function (a) { return a.getName() }) } kd.prototype.count = function () { return this.stores.length };
    function U(a, b) { return Da(a.stores, function (a) { return a.getName() == b }) } function md(a, b) { return Ca(a.stores, function (a) { return a.getName() == b }) }
    function nd(a, b, c, d) {
        if (!b || a.stores.length != b.stores.length) return "Number of store: " + a.stores.length + " vs " + b.stores.length; for (var e = 0; e < a.stores.length; e++) {
            var f = U(b, a.stores[e].getName()); if (f) { c && (f = Zc(f, a.stores[e])); if (d) for (var g = f, h = a.stores[e], k = 0; k < h.a.length; k++) { var n = h.a[k]; Yc(g, n.getName()) || "BLOB" != n.type || (n = new Ic(n.keyPath, n.type, n.unique, n.multiEntry, n.getName()), g.a.push(n)) } f = dd(a.stores[e], f); if (0 < f.length) return 'store: "' + a.stores[e].getName() + '" ' + f } else return 'missing object store "' +
            a.stores[e].getName() + '"'
        } return ""
    }; function od(a, b) { kd.call(this, a, b) } C(od, kd); od.prototype.a = function () { return !0 }; function pd(a, b) { a.stores.push(b) }; function qd(a) { Error.captureStackTrace ? Error.captureStackTrace(this, qd) : this.stack = Error().stack || ""; a && (this.message = String(a)); this.name = "ydn.error.InternalError" } C(qd, Error); qd.prototype.name = "ydn.InternalError"; function rd(a) { Error.captureStackTrace ? Error.captureStackTrace(this, rd) : this.stack = Error().stack || ""; a && (this.message = String(a)); this.name = "ydn.error.ConstraintError" } C(rd, Error); rd.prototype.name = "ydn.error.ConstraintError";
    function sd(a) { Error.captureStackTrace ? Error.captureStackTrace(this, sd) : this.stack = Error().stack || ""; a && (this.message = String(a)); this.name = "ydn.error.InvalidOperationException" } function td(a) { Error.captureStackTrace ? Error.captureStackTrace(this, td) : this.stack = Error().stack || ""; a && (this.message = String(a)); this.name = "ydn.error.InvalidOperationError" } C(td, Error); function Oc(a, b) { var c; c = c || {}; if (null != a && null != b) { if (w(a) && w(b)) { if (a.length != b.length) return !1; for (var d = 0; d < a.length; d++) if (-1 == Ea(b, function (b) { return Oc(b, a[d]) })) return !1; return !0 } if (w(a)) return 1 == a.length && Oc(a[0], b); if (w(b)) return 1 == b.length && Oc(b[0], a); if (B(a) && B(a)) { for (var e in a) if (a.hasOwnProperty(e) && !c[e]) { var f = Oc(a[e], b[e]); if (!f) return !1 } for (e in b) if (b.hasOwnProperty(e) && !c[e] && (f = Oc(a[e], b[e]), !f)) return !1; return !0 } return a === b } return !1 };/*
 Copyright 2012 YDN Authors, Yathit. All Rights Reserved.
 Licensed under the Apache License, Version 2.0 (the "License");.
*/
    function V(a, b, c) { c = c || {}; this.s = c.mechanisms || (lc || Bb() || D("iPad") || D("iPod") ? Ha(ud, 1) : ud); this.m = c.size; this.v = r(c.connectionTimeout) ? c.connectionTimeout : 6E4; this.a = null; this.g = []; this.na = !1; var d; if (b instanceof kd) d = b; else if (B(b)) { c.autoSchema || !r(b.stores) ? d = new od(b) : d = new kd(b); var e = b.stores ? b.stores.length : 0; for (c = 0; c < e; c++) U(d, b.stores[c].name) } else d = new od; this.c = d; for (c = 0; c < this.c.count() ; c++); r(a) && this.j(a); this.f = new E } V.prototype.logger = null;
    V.prototype.B = function (a) { if (r(a)) { var b = function (b) { a(b.toJSON()); a = void 0 }; if (this.a) this.a.R(b); else { var c = this; this.transaction(function (a) { c.a.R(b, a) }, null, Qb) } } return this.c ? this.c.toJSON() : null }; V.prototype.j = function (a) { if (this.a) throw new Lb("Already connected with " + this.h); this.h = a; vd(this) }; V.prototype.getName = function () { return this.h }; var ud = "indexeddb sqlite websql localstorage sessionstorage userdata memory".split(" "); l = V.prototype; l.za = function () { return null };
    function vd(a) {
        function b(b, e) { b ? (a.Ta = NaN, d.gb = function () { }, d.Ja = function () { a.a = null }, d.Xa = function () { }, setTimeout(function () { wd(a, e); xd(a) }, 10), c.callback(e)) : (setTimeout(function () { wd(a, new sc(a, e)); if (a.g) for (var b; b = a.g.shift() ;) b.F && b.F("error", e) }, 10), c.l(e)) } for (var c = new E, d = null, e = a.s, f = 0; f < e.length; f++) { var g = e[f].toLowerCase(); if (d = a.za(g)) { d = a.za(g); break } } null === d ? (e = new rd("No storage mechanism found."), b(!1, new sc(a, e))) : F(d.connect(a.h, a.c), function (a) {
            this.a = d; b(!0, new qc("ready",
            this, parseFloat(d.fb()), parseFloat(a), null))
        }, function (a) { b(!1, a) }, a)
    } l.Ka = function () { if (this.a) return this.a.eb() }; l.qa = function (a, b) { this.f.X().Ma(a, b) }; function wd(a, b) { setTimeout(function () { a.c.b && a.f.c || (b instanceof rc ? a.f.l(b.error) : a.f.callback()) }, 4) } function yd(a) { return !!a.a && a.a.Ia() } l.close = function () { this.a && (this.a.close(), this.a = null) }; l.Bb = function () { return this.a ? this.a.cb() : null }; l.Ta = NaN; function xd(a) { var b = a.g.shift(); b && a.transaction(b.ma, b.tb, b.mode, b.F); a.Ta = ka() } l.na = !1;
    l.transaction = function (a, b, c, d) { var e = b; x(b) ? e = [b] : null != b || (e = null); if (this.a && this.a.Ia() && !this.na) { var f = this, g = r(c) ? c : Qb; g == Rb && (this.na = !0); this.a.Aa(function (b) { a(b); a = null }, e, g, function (a, b) { da(d) && (d(a, b), d = void 0); g == Rb && (f.na = !1); xd(f) }) } else this.g.push({ ma: a, tb: e, mode: c, F: d }) }; V.prototype.close = V.prototype.close; V.prototype.getType = V.prototype.Ka; V.prototype.getName = V.prototype.getName; V.prototype.getSchema = V.prototype.B; V.prototype.onReady = V.prototype.qa; V.prototype.setName = V.prototype.j; V.prototype.transaction = V.prototype.transaction; V.prototype.db = V.prototype.Bb; ma("ydn.db.version", "1.3.6"); ma("ydn.db.cmp", M); ma("ydn.db.deleteDatabase", function (a, b) { for (var c, d = 0; d < kc.length; d++) { var e = kc[d](a, b); e && (c = e) } return c || jc("vc", null) }); qc.prototype.name = qc.prototype.name;
    qc.prototype.getVersion = qc.prototype.Cb; qc.prototype.getOldVersion = qc.prototype.pb; qc.prototype.getOldSchema = qc.prototype.ob; rc.prototype.getError = rc.prototype.c; I.prototype.abort = I.prototype.abort; I.prototype.canAbort = I.prototype.mb; Nb.prototype.progress = Nb.prototype.Oa; Nb.prototype.promise = Nb.prototype.vb; ma("ydn.db.KeyRange", N); N.only = yc; N.bound = zc; N.upperBound = Ac; N.lowerBound = Bc; function zd(a, b, c, d) { mc.call(this); this.a = c; this.lb = c.getName(); this.i = void 0; this.g = !1; this.V = null; this.m = a; this.s = this.j = !1; this.H = d || 4; this.X = this.h = this.c = void 0; this.K = function () { throw new Mb; }; this.U = function () { throw new Mb; }; this.ea = function () { } } C(zd, mc); l = zd.prototype;
    l.La = function (a, b, c, d, e) { r(b) && (a = this.a, this.i = (t(b) ? Xc(a, b) : Tc(a, b)).getName()); this.g = x(this.i); this.V = c || null; this.s = this.j = !1; this.w = "prev" == d || "prevunique" == d; this.unique = "nextunique" == d || "prevunique" == d; this.L = d; this.oa = e; this.X = this.h = this.c = void 0 }; l.L = ""; l.V = null; l.unique = !1; l.w = !1; l.oa = !0; l.logger = null; function Ad(a, b) { a.U(b); Bd(a); a.j = !0 } l.O = function (a, b, c) { null == a && (this.j = !0); this.c = a; this.h = b; this.X = c; this.j ? (this.K(), Bd(this)) : this.K(this.c) };
    function Bd(a) { null != a.h ? a.h = vc(a.h) : a.h = void 0; null != a.c ? a.c = vc(a.c) : a.c = void 0; a.ea(a.s, a.c, a.h) } l.open = function (a, b, c, d) { this.m = a; this.j = this.s = !1; this.c = c; this.h = d; this.openCursor(this.c, this.h) }; function Cd(a) { a.s = !0; Bd(a) } l.S = function () { return this.g ? this.h : this.c }; l.ta = function () { return this.oa ? this.S() : this.X }; l.sa = function () { }; l.$ = function () { }; function Dd() { }; function Ed(a, b, c, d, e, f, g) { this.b = a; this.f = b; this.m = g; this.v = !!this.f; this.c = r(f) ? f : !!x(this.f); a = "next"; d && e ? a = "prevunique" : d ? a = "prev" : e && (a = "nextunique"); this.h = a; this.a = xc(c); this.g = Fd; this.s = NaN } C(Ed, Dd); Ed.prototype.c = !0; var Fd = "init"; l = Ed.prototype; l.logger = null; l.clone = function () { var a = new Ed(this.b, this.f, this.a, Gd(this), Hd(this), this.c, this.m); a.s = this.s; return a }; l.unique = function (a) { return new Ed(this.b, this.f, this.a, Gd(this), a, this.c, this.m) };
    function Id(a, b, c) { a = new Ed(a.b, a.f, a.a, Gd(a), Hd(a), a.c, a.m); a.i = b; a.j = c; a.g = "rest"; return a } function Gd(a) { return "prev" === a.h || "prevunique" === a.h } function Hd(a) { return "nextunique" === a.h || "prevunique" === a.h } l.load = function (a) { a = a[0]; a.La(this.b, this.m || this.f, this.a, this.h, this.c); this.g = "busy"; var b = this; a.ea = function (a, d, e) { b.i = d; b.j = e; b.g = a ? "rest" : "done" }; a.openCursor(this.i, this.j); return a }; l.reset = function (a, b, c) { a = a || Fd; "busy" != this.g && (this.i = b, this.j = c, this.g = a) }; l.stores = function () { return [this.b] }; function Jd(a) { this.b = a || null; this.a = !1 } Jd.prototype.logger = null; function Kd(a, b) { var c; a.a = Gd(b[0]); for (c = 0; c < b.length; c++); return !1 } Jd.prototype.c = function () { return [] }; function Ld(a) { Error.captureStackTrace ? Error.captureStackTrace(this, Ld) : this.stack = Error().stack || ""; a && (this.message = String(a)); this.name = "ConstraintError" } C(Ld, Error); Ld.prototype.name = "ConstraintError"; function gc(a) { Error.captureStackTrace ? Error.captureStackTrace(this, gc) : this.stack = Error().stack || ""; a && (this.message = String(a)); this.name = "InvalidStateError" } C(gc, Error);
    function Md(a) { Error.captureStackTrace ? Error.captureStackTrace(this, Md) : this.stack = Error().stack || ""; a && (this.message = String(a)); this.name = "InvalidAccessError" } C(Md, Error); function Nd(a) { Error.captureStackTrace ? Error.captureStackTrace(this, Nd) : this.stack = Error().stack || ""; a && (this.message = String(a)); this.name = "NotFoundError" } C(Nd, Error); Nd.prototype.name = "NotFoundError";
    function Od(a, b) { Error.captureStackTrace ? Error.captureStackTrace(this, Od) : this.stack = Error().stack || ""; b && (this.message = String(b)); this.message += " :" + a.message + " [" + a.code + "]"; this.name = "SQLError" } C(Od, Error); function Pd(a, b) { Error.captureStackTrace ? Error.captureStackTrace(this, Pd) : this.stack = Error().stack || ""; b && (this.message = String(b)); this.message += " :" + a.message; this.name = "SecurityError" } C(Pd, Error);
    function Qd(a) { Error.captureStackTrace ? Error.captureStackTrace(this, Qd) : this.stack = Error().stack || ""; a && (this.message = String(a)); this.name = "ydn.db.TimeoutError" } C(Qd, Error); function Rd(a, b) { this.a = b } Rd.prototype.logger = null; function Sd(a) { this.f = a; this.a = null; this.b = 0 } Sd.prototype.logger = null; Sd.prototype.G = null; function Td(a) { return !!a.a && !a.c } Sd.prototype.F = null; function Ud(a, b, c, d, e, f) { this.j = a; this.K = b; this.a = this.f = 0; this.H = d; this.B = e; this.h = c || Vd; this.m = f || 0 } Ud.prototype.logger = null; Ud.prototype.type = function () { return this.j.Ka() }; Ud.prototype.P = function () { return "B" + this.K + "T" + this.f }; var Vd = "single"; function Wd(a) { if (a) if (da(a.abort)) a.abort(); else if (da(a.executeSql)) a.executeSql("ABORT", [], null, function () { return !0 }); else throw new Kb; else throw new gc("No active transaction"); }; function Xd(a, b, c, d, e, f) { Ud.call(this, a, b, c, d, e, f); this.c = []; this.g = []; this.i = null; this.b = new Sd(b); this.s = f || 0; this.v = !1 } C(Xd, Ud); l = Xd.prototype; l.logger = null;
    function Yd(a, b, c) { if ("multi" == a.h) a: if (a = a.b, !a.G || !a.mode || c != a.mode && (a.mode != H || c != Qb) || b.length > a.G.length) b = !1; else { for (c = 0; c < b.length; c++) if (-1 == a.G.indexOf(b[c])) { b = !1; break a } b = !0 } else if ("repeat" == a.h) a: if (a = a.b, a.G && a.mode && c == a.mode && a.G.length == b.length) { for (c = 0; c < b.length; c++) if (-1 == a.G.indexOf(b[c])) { b = !1; break a } b = !0 } else b = !1; else b = "all" == a.h ? !0 : !1; return b } function Zd(a) { var b = 0 < a.c.length ? a.c[0].G : null, c = 0 < a.c.length ? a.c[0].mode : null; return null != b && null != c ? Yd(a, b, c) : !1 }
    l.abort = function () { Wd(this.i) };
    l.T = function (a, b, c, d) {
        var e = x(b) ? [b] : b, f = r(c) ? c : Qb, g = this; if (this.b.a || !yd(this.j) && this.v) this.c.push({ ma: a, G: b, mode: f, F: d }); else {
            d && this.g.push(d); if (this.s && this.f >= this.s) throw new Lb("Exceed maximum number of transactions of " + this.s); this.v = !0; this.j.transaction(function (c) { var d = g.b; d.a = c; d.c = !1; d.G = b; d.mode = f; d.b++; d.F = null; P(b); a(g); for (a = null; Zd(g) ;) c = g.c.shift(), c.F && g.g.push(c.F), c.ma() }, e, f, function (a, b) {
                var c = g.b; c.a && (c.a = null, c.G = null, c.mode = null, da(c.F) && c.F(a, b), c.F = null); for (c =
                0; c < g.g.length; c++) (0, g.g[c])(a, b); g.g.length = 0; (c = g.c.shift()) && g.T(c.ma, c.G, c.mode, c.F); g.a = 0
            })
        }
    }; l.P = function () { var a = this.b; return "B" + a.f + "T" + a.b }; l.request = function (a, b, c, d) { function e(a, b) { f.a = null; d && d(a, b) } var f = new I(a); a = c || Qb; var g = this; Td(this.b) && Yd(this, b, a) ? (b = this.b.a, this.a++, ec(f, b, this.P() + "R" + this.a), this.g.push(e)) : g.T(function () { var a = g.b.a; g.a++; ec(f, a, g.P() + "R" + g.a) }, b, a, e); return f };
    l.ca = function (a, b, c, d, e) { d = d || Qb; var f = this, g; if (Td(f.b) && Yd(this, c, d)) { var h = f.b.a; f.a++; g = f.P() + "R" + f.a; b(h, g, function (b, c) { f.i = h; c ? a.l(b) : a.callback(b); f.i = null }); b = null } else f.T(function () { var c = f.b.a; f.a++; g = f.P() + "R" + f.a; b(c, g, function (b, d) { f.i = c; d ? a.l(b) : a.callback(b); f.i = null }); b = null }, c, d, e) }; l.getName = function () { return this.j.getName() }; function $d(a, b) { Xd.call(this, a, b) } C($d, Xd); $d.prototype.logger = null; $d.prototype.request = function (a, b, c) { var d, e, f, g = $d.D.request.call(this, a, b, c, function (a, b) { g.a = null; if (d) "complete" != a && (f = !0, e = b), d(e, f); else { var c = new Qd; J(g, c, !0) } }); hc(g, function (a, b, c) { f = b; e = a; d = c }); return g };
    $d.prototype.ca = function (a, b, c, d, e) { var f, g, h = new E; F(h, function (a) { g = !1; f = a }, function (a) { g = !0; f = a }); $d.D.ca.call(this, h, b, c, d, function (b, c) { if ("complete" != b) a.l(c); else if (!0 === g) a.l(f); else if (!1 === g) a.callback(f); else { var d = new Qd; a.l(d) } e && (e(b, c), e = void 0) }) }; function ae(a, b, c) { this.c = a; this.b = b; this.a = c; this.f = null } ae.prototype.logger = null; ae.prototype.g = function () { return this.a.f }; ae.prototype.abort = function () { this.a.abort() }; function W(a) { if (!a.f) { var b; b = a.c; var c = b.Ka(); if ("indexeddb" == c) b = new be(0, b.c); else if ("websql" == c || "sqlite" == c) b = new ce(0, b.c); else throw new Mb("No executor for " + c); a.f = b } return a.f }
    function de(a, b) {
        var c = x(b) ? b : B(b) ? b.name : void 0; if (!x(c)) throw new G("store name " + c + " must be a string, but " + typeof c); var d = U(a.b, c); if (!d) { if (!a.b.a()) throw new G('store name "' + c + '" not found.'); d = Qc(B(b) ? b : { name: c }); var e = a.c, f = d, g = f instanceof Pc ? f : Qc(f), f = U(e.c, f.name); if (0 == dd(g, f).length) (new E).callback(!1); else if (e.c instanceof od) pd(e.c, g), e.a ? (e.a.close(), e.a = null, vd(e)) : (new E).callback(!1); else throw new rd(""); } else if (a.b.a() && B(b) && (e = Qc(b), e = dd(d, e))) throw new Kb(e); if (!d) throw new Nd(c);
        return d
    }; function X(a, b, c) { ae.call(this, a, b, c) } C(X, ae); l = X.prototype; l.logger = null;
    l.count = function (a, b, c, d) {
        var e, f, g, h; if (null != a) if (t(a)) { if (r(c) || r(b)) throw new G("too many arguments."); f = a; for (var k = 0; k < f.length; k++) if (!md(this.b, f[k])) throw new G('store name "' + f[k] + '" at ' + k + " not found."); Jb("countStores: " + P(f)); e = this.a.request("d", f); K(e, function () { W(this).ya(e, f) }, this) } else if (x(a)) {
            k = U(this.b, a); if (!k) throw new G('store name "' + a + '" not found.'); f = [a]; if (x(b)) g = b, B(c) ? h = xc(c) : h = null; else if (B(b) || null == b) if (B(b)) h = xc(b); else {
                if (null != b) throw new G("key range must be  an object but found " +
                gd(b) + " of type " + typeof b); h = null
            } else throw new G('invalid second argument for count "' + gd(c) + '" of type ' + typeof b); Jb("countKeyRange: " + a + " " + (g ? g : "") + P(h)); e = this.a.request("d", f); R(k, e, arguments); K(e, function () { W(this).Sa(e, f[0], h, g, !!d) }, this)
        } else throw new G("Invalid store name or store names."); else k = ld(this.b), e = this.a.request("d", k), hc(e, function (a, b, c) { if (b) c(a, !0); else { for (var d = b = 0; d < a.length; d++) b += a[d]; c(b, !1) } }, this), K(e, function () { W(this).ya(e, f) }, this); return e
    };
    l.get = function (a, b) {
        var c = this, d; if (a instanceof tc) { var e = a, f = e.b, g = U(this.b, f); if (!g) { if (this.b.a()) { if (yd(this.c)) return jc("e", void 0); d = new I("e"); this.c.qa(function () { F(c.get(a, b), function (a) { d.callback(a) }, function (a) { d.l(a) }) }); return d } throw new G("Store: " + f + " not found."); } var h = e.a; d = this.a.request("ek", [f]); R(g, d, arguments, void 0, this); K(d, function () { W(this).Ca(d, f, h) }, this) } else if (x(a) && r(b)) {
            var k = a, g = U(this.b, k); if (!g) {
                if (this.b.a()) {
                    if (yd(this.c)) return jc("e", void 0); d = new I("e");
                    this.c.qa(function () { F(c.get(a, b), function (a) { d.callback(a) }, function (a) { d.l(a) }) }); return d
                } throw new G('Store name "' + k + '" not found.');
            } var n = b; d = this.a.request("e", [k]); R(g, d, arguments, void 0, this); K(d, function () { W(this).Ca(d, k, n) }, this)
        } else throw new G("get require valid input arguments."); return d
    };
    l.qb = function (a, b, c, d, e) { var f = U(this.b, a), g, h, k, n = null; B(b) && (n = xc(b)); if (r(c)) if (z(c)) g = c; else throw new G("limit must be a number, but " + c + " is " + typeof c); else g = 100; if (r(d)) if (z(d)) h = d; else throw new G("offset must be a number, but " + d + " is " + typeof d); else h = 0; if (r(e)) if (ca(e)) k = e; else throw new G("reverse must be a boolean, but " + e + " is " + typeof e); var p = this.a.request("g", [a]); R(f, p, arguments); K(p, function () { W(this).ba(p, 2, a, null, n, g, h, k, !1) }, this); return p };
    l.fa = function (a, b, c, d, e, f, g) { var h, k, n, p, m, u = U(this.b, a); h = xc(c); if (z(d)) k = d; else { if (r(d)) throw new G("limit must be a number"); k = 100 } if (z(e)) n = e; else { if (r(e)) throw new G("offset must be a number"); n = 0 } if (r(f)) if (ca(f)) p = f; else throw new G("reverse must be a boolean"); if (r(g)) if (ca(g)) m = g; else throw new G("unique must be a boolean"); var v = this.a.request("i", [a]); R(u, v, arguments); K(v, function () { W(this).ba(v, 2, a, b, h, k, n, p, m) }, this); return v };
    l.aa = function (a, b, c, d, e, f, g) { var h = U(this.b, a); return this.b.a() && !h ? jc("g", []) : x(b) ? this.fa(a, b, c, d, e, f, g) : this.qb(a, b, c, d, e) };
    l.values = function (a, b, c, d, e, f, g) {
        var h = this, k; if (x(a)) { var n = a, p = U(this.b, n); if (!p) { if (this.b.a()) { if (yd(this.c)) return jc("s", []); k = new I("s"); this.c.qa(function () { F(h.values(a, b, c, d, e, f), function (a) { k.callback(a) }, function (a) { k.l(a) }) }); return k } throw new Nd(n); } if (t(b)) { var m = b; k = this.a.request("v", [n]); R(p, k, arguments, void 0, this); K(k, function () { W(this).Ua(k, n, m) }, this) } else k = x(b) ? this.ia(n, b, c, d, e, f, g) : this.ub(n, b, c, d, e) } else if (t(a)) if (a[0] instanceof tc) {
            for (var p = [], u = a, v = 0; v < u.length; v++) {
                var y =
                u[v].b; if (!md(this.b, y)) { if (this.b.a()) return p = [], p[u.length - 1] = void 0, jc("e", p); throw new G("Store: " + y + " not found."); } 0 <= Aa(p, y) || p.push(y)
            } Jb("listByKeys: " + P(p) + " " + u.length + " keys"); k = this.a.request("w", p); K(k, function () { W(this).Va(k, u) }, this)
        } else throw new G("first argumentmust be array of ydn.db.Key, but " + a[0] + " of " + typeof a[0] + " found."); else throw new G("first argument " + a + " is invalid."); return k
    };
    l.ub = function (a, b, c, d, e) { var f = U(this.b, a), g, h, k, n = null; B(b) && (n = xc(b)); if (r(c)) if (z(c)) g = c; else throw new G("limit must be a number, but " + c + " is " + typeof c); else g = 100; if (r(d)) if (z(d)) h = d; else throw new G("offset must be a number, but " + d + " is " + typeof d); else h = 0; if (r(e)) if (ca(e)) k = e; else throw new G("reverse must be a boolean, but " + e + " is " + typeof e); var p = this.a.request("s", [a]); R(f, p, arguments); K(p, function () { W(this).ba(p, 4, a, null, n, g, h, k, !1) }, this); return p };
    l.ia = function (a, b, c, d, e, f, g) { var h = U(this.b, a), k, n, p, m, u = xc(c); if (r(d)) if (z(d)) k = d; else throw new G("limit must be a number."); else k = 100; if (r(e)) if (z(e)) n = e; else throw new G("offset must be a number."); else n = 0; if (ca(f)) p = f; else if (r(f)) throw new G("reverse must be a boolean, but " + f); if (r(g)) if (ca(g)) m = g; else throw new G("unique must be a boolean"); var v = this.a.request("u", [a]); R(h, v, arguments); K(v, function () { W(this).ba(v, 4, a, b, u, k, n, p, m) }, this); return v };
    l.add = function (a, b, c) {
        if (t(b)) return this.ja(a, b, c); a = de(this, a); var d = a.getName(), e; if (x(a.keyPath) && r(c)) throw new G("key must not be provided while the store uses in-line key."); if (!a.keyPath && !a.b && !r(c)) throw new G("out-of-line key must be provided for store: " + d); if (t(b)) { for (var f = 0; f < b.length; f++) ed(a, b[f]); e = this.a.request("b", [d], H); K(e, function () { W(this).N(e, !1, !1, d, b, c) }, this); a.M && e.A(function () { }, this) } else if (B(b)) ad(a, b, c), ed(a, b), e = this.a.request("a", [d], H), K(e, function () {
            W(this).N(e,
            !1, !0, d, [b], [c])
        }, this), a.M && e.A(function () { }, this); else throw new G("record must be an object or array list of objects, but " + b + " of type " + typeof b + " found."); return e
    };
    l.ja = function (a, b, c) { a = de(this, a); var d = a.getName(), e; if (x(a.keyPath) && r(c)) throw new G("key must not be provided while the store uses in-line key."); if (!a.keyPath && !a.b && !r(c)) throw new G("out-of-line key must be provided for store: " + d); if (t(b)) { for (var f = 0; f < b.length; f++) ed(a, b[f]); e = this.a.request("b", [d], H); K(e, function () { W(this).N(e, !1, !1, d, b, c) }, this); a.M && e.A(function () { }, this) } else throw new G("record must be an array list of objects, but " + b + " of type " + typeof b + " found."); return e };
    l.put = function (a, b, c) {
        var d, e = this; if (a instanceof tc) { var f = a, g = f.b, h = U(this.b, g); if (!h) throw new G('store "' + g + '" not found.'); if (h.keyPath) { var k = ad(h, b); if (null != k) { if (0 != M(k, f.a)) throw new G("Inline key must be " + f + " but " + k + " found."); } else bd(h, b, f.a); return this.put(g, b) } return this.put(g, b, f.a) } if (t(a)) {
            for (var n = a, p = b, f = [], g = 0, h = n.length; g < h; g++) { k = n[g].b; -1 == Aa(f, k) && f.push(k); var m = U(this.b, k); if (!m) throw new G('store "' + k + '" not found.'); m.keyPath && bd(m, p[g], n[g].a) } Jb("putByKeys: to " +
            P(f) + " " + p.length + " objects"); for (g = 0; g < p.length; g++) ed(m, p[g]); d = this.a.request("l", f, H); R(m, d, arguments); K(d, function () { W(e).Ya(d, p, n) }, this)
        } else if (x(a) || B(a)) {
            var m = de(this, a), u = m.getName(); if (m.keyPath && r(c)) throw new G("key must not be provided while the store uses in-line key."); if (!m.keyPath && !m.b && !r(c)) throw new G("out-of-line key must be provided for store: " + u); if (t(b)) {
                for (var v = b, y = c, g = 0; g < v.length; g++) ed(m, v[g]); d = this.a.request("k", [u], H); R(m, d, arguments); K(d, function () {
                    W(this).N(d,
                    !0, !1, u, v, y)
                }, this); m.M && d.A(function () { }, this)
            } else if (B(b)) {
                var A = b, S = c; if (r(q.Blob) && A instanceof Blob && m.W && !m.keyPath && 0 == m.a.length && Gb) d = new I("j"), f = new FileReader, f.onload = function (a) { var b = a.target.result, c = e.a.request("j", [u], H); R(m, c, [u, A, S]); K(c, function () { W(e).N(c, !0, !0, u, [b], [S]) }, this); F(c, function (a) { d.callback(a) }, function (a) { d.l(a) }) }, f.onerror = function (a) { d.l(a) }, f.onabort = function (a) { d.l(a) }, f.readAsDataURL(A); else {
                    ed(m, A); d = this.a.request("j", [u], H); var T = [u, A, S]; R(m, d, T); K(d,
                    function () { var a = r(S) ? [T[2]] : void 0; W(e).N(d, !0, !0, u, [T[1]], a) }, this)
                } m.M && d.A(function () { }, this)
            } else throw new G("put record value must be Object or array of Objects");
        } else throw new G("the first argument of put must be store name, store schema or array of keys."); return d
    };
    l.ra = function (a, b, c) { var d, e = de(this, a), f = e.getName(); if (e.keyPath && r(c)) throw new G("key must not be provided while the store uses in-line key."); if (!e.keyPath && !e.b && !r(c)) throw new G("out-of-line key must be provided for store: " + f); for (var g = b, h = c, k = 0; k < g.length; k++) ed(e, g[k]); d = this.a.request("k", [f], H); R(e, d, arguments); K(d, function () { W(this).N(d, !0, !1, f, g, h) }, this); e.M && d.A(function () { }, this); return d };
    l.clear = function (a, b) {
        var c; if (x(a)) {
            var d = U(this.b, a); if (!d) throw new G('store name "' + a + '" not found.'); if (B(b)) { var e = xc(b); if (null === e) throw new G("clear method requires a valid non-null KeyRange object."); Jb("clearByKeyRange: " + a + ":" + P(e)); c = this.a.request("c", [a], H); R(d, c, [a, e]); K(c, function () { W(this).Qa(c, a, e) }, this) } else {
                if (r(b)) throw new G("clear method requires a valid KeyRange object as second argument, but found " + b + " of type " + typeof b); c = this.a.request("c", [a], H); K(c, function () {
                    W(this).wa(c,
                    [a])
                }, this)
            }
        } else if (!r(a) || t(a) && x(a[0])) { var f = a || ld(this.b); Jb("clearByStores: " + P(f)); c = this.a.request("c", f, H); K(c, function () { W(this).wa(c, f) }, this) } else throw new G('first argument "' + a + '" is invalid.'); return c
    };
    l.ua = function (a, b, c) {
        var d; if (x(a)) {
            var e = U(this.b, a); if (!e) throw new G('store name "' + a + '" not found.'); if (r(c)) if (x(b)) { var f = Tc(e, b); if (!f) throw new G("index: " + b + " not found in " + a); if (B(c) || null === c) { var g = xc(c); d = this.a.request("p", [a], H); K(d, function () { W(this).Za(d, a, f.getName(), g) }, this) } else throw new G("key range " + c + ' is invalid type "' + typeof c + '".'); } else throw new G('index name "' + b + '" must be a string, but ' + typeof b + " found."); else if (x(b) || z(b) || w(b) || b instanceof Date) {
                d = this.a.request("m",
                [a], H); var h = [a, b]; R(e, d, h); K(d, function () { W(this).Ga(d, a, h[1]) }, this); e.M && d.A(function () { }, this)
            } else if (B(b)) g = xc(b), Jb("removeByKeyRange: " + a + ":" + P(g)), d = this.a.request("n", [a], H), R(e, d, [a, g]), K(d, function () { W(this).$a(d, a, g) }, this), e.M && d.A(function () { }, this); else throw new G('Invalid key or key range "' + b + '" of type ' + typeof b);
        } else if (a instanceof tc) { var k = a.b, e = U(this.b, k); d = this.a.request("m", [k], H); var n = [k, a.a]; R(e, d, n); K(d, function () { W(this).Ga(d, k, n[1]) }, this) } else if (t(a)) {
            b = []; c =
            0; for (e = a.length; c < e; c++) { var p = a[c].b; -1 == Aa(b, p) && b.push(p) } if (1 > b.length) throw new G('at least one valid key required in key list "' + gd(a) + '"'); d = this.a.request("o", b, H); K(d, function () { W(this).ab(d, a) }, this)
        } else throw new G('first argument requires store name, key (ydn.db.Key) or list of keys (array) , but "' + gd(a) + '" (' + ba(a) + ") found."); return d
    }; function ee(a, b, c) { ae.call(this, a, b, c) } C(ee, X); l = ee.prototype; l.logger = null; l.get = function (a, b) { if (a instanceof Ed) { var c = a.b, d = U(this.b, c); if (!d) throw new G('store "' + c + '" not found.'); var e = a.f; if (r(e) && !Yc(d, e)) throw new G('index "' + e + '" not found in store "' + c + '".'); var f = this.a.request("f", [c]); K(f, function () { fe(this, 5, f, a, 1) }, this); return f } return ee.D.get.call(this, a, b) };
    l.Fa = function (a, b) { var c = 100; if (z(b)) { if (c = b, 1 > c) throw new G("limit must be a positive value, but " + b); } else if (r(b)) throw new G("limit must be a number,  but " + b); var d = this.a.request("h", [a.b]); K(d, function () { a.v ? fe(this, 1, d, a, c) : fe(this, 2, d, a, c) }, this); return d }; l.aa = function (a, b, c, d, e, f, g) { return a instanceof Ed ? this.Fa(a, b) : ee.D.aa.call(this, a, b, c, d, e, f, g) }; l.xa = function (a) { var b = this.a.request("d", [a.b]); K(b, function () { fe(this, 6, b, a) }, this); return b };
    l.count = function (a, b, c, d) { if (a instanceof Ed) { if (r(b) || r(c)) throw new G("too many arguments."); return this.xa(a) } return ee.D.count.call(this, a, b, c, d) }; l.Ha = function (a, b) { var c; if (z(b)) { if (c = b, 1 > c) throw new G("limit must be a positive value, but " + c); } else if (r(b)) throw new G("limit must be a number, but " + b); var d = this.a.request("t", [a.b]); K(d, function () { a.c ? fe(this, 2, d, a, c) : fe(this, 4, d, a, c) }, this); return d };
    l.values = function (a, b, c, d, e, f) { return a instanceof Ed ? this.Ha(a, b) : ee.D.values.call(this, a, b, c, d, e, f) };
    function ge(a, b, c) {
        var d, e = H || Qb, f = []; for (d = 0; d < c.length; d++) for (var g = c[d].stores(), h = 0; h < g.length; h++) 0 <= Aa(f, g[h]) || f.push(g[h]); d = a.a.request("qa", f); a.a.ca(d, function (d, e, f) {
            function g() { for (var b = 0, f = 0; f < c.length; f++) { var m = c[f], p = [W(a).b(d, e, m.b)], m = m.load(p); m.U = h; m.K = ja(v, b); Q[f] = m; S[b] = f; b++ } A = c.length } function h(a) { for (var b = 0; b < Q.length; b++) Cd(Q[b]); Fa(Q); f(a, !0) } function v(a, d) {
                if (y) throw new qd; O++; var e = O === A, g = S[a], h = c[g], k = Q[g], g = k.S(), k = k.ta(); T[a] = d; L[a] = h.v ? h.c ? g : k : h.c ? d : k; if (e) {
                    var n;
                    b instanceof Jd ? n = b.c(T, L) : n = b(T, L); e = []; h = []; g = []; k = []; if (t(n)) for (var m = 0; m < n.length; m++) !0 === n[m] ? g[m] = 1 : !1 === n[m] ? k[m] = !0 : h[m] = n[m]; else if (null === n) e = []; else if (r(n)) if (B(n)) e = n.continuePrimary || [], h = n["continue"] || [], g = n.advance || [], k = n.restart || []; else throw new Lb("scan callback output"); else for (e = [], m = 0; m < c.length; m++) r(S[m]) && (g[m] = 1); for (m = O = n = 0; m < c.length; m++) null != e[m] || r(h[m]) || null != k[m] || null != g[m] || O++; for (m = 0; m < c.length; m++) if (null != e[m] || r(h[m]) || null != k[m] || null != g[m]) {
                        var u =
                        S[m]; if (!r(u)) throw new sd(m + " is not an iterator."); var u = c[u], v = Q[m]; T[m] = void 0; L[m] = void 0; if (null != k[m]) u = v, u.j = !1, u.s = !1, u.openCursor(void 0, void 0); else if (r(h[m])) v.$(h[m]); else if (null != e[m]) v.sa(e[m]); else if (null != g[m]) v.advance(1); else throw new qd(u + ": has no action"); n++
                    } if (0 == n) { for (n = 0; n < Q.length; n++) Cd(Q[n]); y = !0; Fa(Q); f(void 0) }
                }
            } var y = !1, A, S = [], T = [], L = [], Q = [], O = 0; b instanceof Jd ? Kd(b, c) || g() : g()
        }, f, e); return d
    }
    l.open = function (a, b, c, d) {
        c = c || Qb; var e = this, f = this.a.request("i5", b.stores(), c); K(f, function (c) {
            for (var h = ic(f), k = b.stores(), n = [], p = 0; p < k.length; p++) n[p] = W(e).b(c, h, k[p]); var m = b.load(n); m.U = function (a) { J(f, a, !0) }; m.K = function (b) {
                if (null != b) {
                    var c = a.call(d, m); !0 === c ? (m.j = !1, m.s = !1, m.openCursor(void 0, void 0)) : B(c) ? !0 === c.restart ? (b = c["continue"], c = c.continuePrimary, m.j = !1, m.s = !1, m.openCursor(c, b)) : null != c["continue"] ? m.$(c["continue"]) : null != c.continuePrimary ? m.sa(c.continuePrimary) : (Cd(m), J(f, void 0)) :
                    null === c ? (Cd(m), J(f, void 0)) : null != c ? m.$(c) : m.advance(1)
                } else Cd(m), J(f, void 0)
            }
        }, this); return f
    }; function he(a, b, c, d) { var e = c.b, f = c.f || null, g = d || 100, h = a.a.request("u", [e]), k = "done" == c.g || c.g == Fd ? [] : [c.i, c.j]; K(h, function () { W(this).ba(h, b, e, f, c.a ? c.a instanceof Dc ? c.a : Dc.bound(c.a.lower, c.a.upper, c.a.lowerOpen, c.a.upperOpen) : null, g, 0, Gd(c), Hd(c), k) }, a); h.A(function () { null != k[0] ? c.reset("rest", k[0], k[1]) : c.reset() }); return h }
    function fe(a, b, c, d, e) { var f = [], g = c.a, h = ic(c); a = W(a); for (var k = [], n = d.stores(), p = 0; p < n.length; p++) k[p] = a.b(g, h, n[p]); var m = d.load(k); m.U = function (a) { Cd(m); J(c, a, !0) }; var u = 0, v = !1; m.K = function (a) { v || (v = !0); null != a ? (m.S(), u++, 1 == b ? f.push(a) : 2 == b ? f.push(m.S()) : 3 == b ? f.push([a, m.S()]) : 6 != b && f.push(m.ta()), 5 == b ? (Cd(m), J(c, f[0])) : 6 == b || !r(e) || u < e ? m.$() : (Cd(m), J(c, f))) : (Cd(m), J(c, 5 == b ? f[0] : 6 == b ? u : f)) } }; function ie(a, b, c, d) { this.f = a; this.a = Ga(c); this.b = d; this.c = [] } ie.prototype.f = null; function je(a, b, c) { if (a.f) c && a.c.push(c), b(a.f); else throw new Mb("tx committed on ParallelTxExecutor"); }; function ke(a, b, c, d, e, f) { Ud.call(this, a, b, c, d, e, f); this.c = this.b = null } C(ke, Ud); l = ke.prototype; l.logger = null; l.abort = function () { Wd(this.c) };
    l.ib = function (a, b) { var c; if ("multi" == this.h) a: if (c = this.b, !c.a || !c.b || b != c.b && (c.b != H || b != Qb) || a.length > c.a.length) c = !1; else { for (var d = 0; d < a.length; d++) if (-1 == c.a.indexOf(a[d])) { c = !1; break a } c = !0 } else if ("repeat" == this.h) a: if (c = this.b, c.a && c.b && b == c.b && c.a.length == a.length) { for (d = 0; d < a.length; d++) if (-1 == c.a.indexOf(a[d])) { c = !1; break a } c = !0 } else c = !1; else c = "all" == this.h ? !0 : !1; return c };
    l.T = function (a, b, c, d) { function e(c) { h.f++; k = new ie(c, 0, b, g); P(b); h.b = k; je(h.b, a, d) } function f(a, b) { if (k) { for (var c = k, d = 0; d < c.c.length; d++) c.c[d](a, b); c.c.length = 0; c.f = null; c.a = null; c.c = null } h.a = 0 } this.H && (b = this.H); this.B && (c = this.B); var g = r(c) ? c : Qb, h = this, k; if (this.b && this.b.f && this.ib(b, g)) je(this.b, a, d); else { if (this.m && this.f >= this.m) throw new Lb("Exceed maximum number of transactions of " + this.m); this.j.transaction(e, b, g, f) } };
    l.request = function (a, b, c, d) { var e = new I(a), f = this; this.T(function (a) { f.a++; ec(e, a, f.P() + "R" + f.a) }, b, c || Qb, function (a, b) { e.a = null; d && d(a, b) }); return e }; l.ca = function (a, b, c, d, e) { var f = this, g; this.T(function (c) { f.a++; g = f.P() + "R" + f.a; b(c, g, function (b, d) { f.c = c; g = f.P() + "R" + f.a; d ? a.l(b) : a.callback(b); f.c = null }); b = null }, c, d, e) }; function le(a, b) { ke.call(this, a, b, Vd) } C(le, ke); le.prototype.logger = null; le.prototype.ib = function () { return !1 }; le.prototype.request = function (a, b, c) { var d, e, f, g = le.D.request.call(this, a, b, c, function (a, b) { g.a = null; if (d) "complete" != a && (f = !0, e = b), d(e, f); else { var c = new Qd; J(g, c, !0) } }); hc(g, function (a, b, c) { f = b; e = a; d = c }); return g };
    le.prototype.ca = function (a, b, c, d, e) { var f, g, h = new E; F(h, function (a) { g = !1; f = a }, function (a) { g = !0; f = a }); le.D.ca.call(this, h, b, c, d, function (b, c) { if ("complete" != b) a.l(c); else if (!0 === g) a.l(f); else if (!1 === g) a.callback(f); else { var d = new Qd; a.l(d) } e && (e(b, c), e = void 0) }) }; function me(a, b, c) { V.call(this, a, b, c); this.Y = 0; a = !0; b = Vd; c && (r(c.isSerial) && (a = !!c.isSerial), c.policy && (b = c.policy)); c = ne(this, b, a); this.i = ne(this, "atomic", !1); this.b = this.ga(c, this.i) } C(me, V); l = me.prototype; l.Y = 0; l.jb = function (a, b, c, d, e, f) { a = a || Vd; var g; "readonly" == d ? g = Qb : "readwrite" == d && (g = H); a = ne(this, a, b, c, g, e); return this.ga(a, f ? null : this.i) }; l.ga = function (a) { return new ae(this, this.c, a) };
    function ne(a, b, c, d, e, f) { if (c) { if ("multi" == b || "repeat" == b || "all" == b || b == Vd) return new Xd(a, a.Y++, b, d, e, f); if ("atomic" == b) return new $d(a, a.Y++); throw new G('Invalid requestType "' + b + '"'); } if ("multi" == b || "repeat" == b || "all" == b || b == Vd) return new ke(a, a.Y++, b, d, e, f); if ("atomic" == b) return new le(a, a.Y++); throw new G('Invalid requestType "' + b + '"'); }
    l.sb = function (a, b, c) { this.Y++; b = b || ld(this.c); var d = Qb; if (c) if ("readwrite" == c) d = H; else if ("readonly" != c) throw new G('Invalid transaction mode "' + c + '"'); var e = ne(this, "all", !1, b, d, 1), f = this.ga(e, this.i), g = new I("q"); e.T(function (b) { ec(g, b, e.P() + "R0"); a(f) }, b, d, function (a) { g.a = null; J(g, e.f, "complete" !== a) }); return g }; l.Db = function () { return this.b ? this.b.a.f : NaN }; function Y(a, b, c) {
        me.call(this, a, b, c); a = this.c; for (b = 0; b < a.c.length; b++) {
            c = a.c[b]; var d = U(a, c.getName()); if (d) { if (!Yc(d, "k")) throw new G('full text index store "' + d.getName() + '" must have "keyword" index'); if (!Yc(d, "v")) throw new G('full text index store "' + d.getName() + '" must have "keyword" index'); if ("id" != d.keyPath) throw new G('full text index store "' + d.getName() + '" must use "id" as key path.'); } else throw new G('full text index store "' + c.getName() + '" required.'); for (d = 0; d < c.count() ; d++) {
                var e =
                c.index(d); if (!U(a, e.a)) throw new G('full text source store "' + e.a + '" does not exist for full text index "' + c.getName() + '"');
            }
        }
    } C(Y, me); l = Y.prototype; l.ga = function (a) { return new X(this, this.c, a) }; l.add = function (a, b, c) { return this.b.add(a, b, c) }; l.ja = function (a, b, c) { return this.b.ja(a, b, c) }; l.count = function (a, b, c, d) { return this.b.count(a, b, c, d) }; l.get = function (a, b) { return this.b.get(a, b) }; l.aa = function (a, b, c, d, e, f, g) { return this.b.aa(a, b, c, d, e, f, g) };
    l.fa = function (a, b, c, d, e, f, g) { return this.b.fa(a, b, c, d, e, f, g) }; l.values = function (a, b, c, d, e, f) { return this.b.values(a, b, c, d, e, f) }; l.ia = function (a, b, c, d, e, f, g) { return this.b.ia(a, b, c, d, e, f, g) }; l.put = function (a, b, c) { return this.b.put(a, b, c) }; l.ra = function (a, b, c) { return this.b.ra(a, b, c) }; l.clear = function (a, b, c) { return this.b.clear(a, b, c) }; l.ua = function (a, b, c) { return this.b.ua(a, b, c) }; function oe(a, b, c) { Y.call(this, a, b, c) } C(oe, Y); l = oe.prototype; l.ga = function (a) { return new ee(this, this.c, a) }; l.open = function (a, b, c, d) { return this.b.open(a, b, c, d) }; l.xa = function (a) { return this.b.xa(a) }; l.Ha = function (a, b) { return this.b.Ha(a, b) }; l.Fa = function (a, b) { return this.b.Fa(a, b) }; function pe(a, b, c, d) { zd.call(this, a, 0, c, d); this.b = null } C(pe, zd); l = pe.prototype; l.logger = null; l.la = function (a) { (a = a.target.result) ? this.O(a.key, a.primaryKey, a.value) : this.O() };
    l.openCursor = function (a, b) {
        function c(a, b, c) { m.b = p; m.b.onsuccess = ia(m.la, m); m.O(a, m.g ? b : void 0, c); p = null } var d = this.V, e = this.m.objectStore(this.lb), f = x(this.i) ? e.index(this.i) : null; if (r(a)) var g = f ? !r(b) : !0, h = d ? d.lower : void 0, k = d ? d.upper : void 0, n = d ? !!d.lowerOpen : !1, d = d ? !!d.upperOpen : !1, d = wc(this.w ? new N(h, a, n, g) : new N(a, k, g, d)); var p; this.oa ? f ? p = null != this.L ? f.openKeyCursor(d, this.L) : null != d ? f.openKeyCursor(d) : f.openKeyCursor() : p = null != this.L ? e.openCursor(d, this.L) : null != d ? e.openCursor(d) : e.openCursor() :
        f ? p = null != this.L ? f.openCursor(d, this.L) : null != d ? f.openCursor(d) : f.openCursor() : p = null != this.L ? e.openCursor(d, this.L) : null != d ? e.openCursor(d) : e.openCursor(); var m = this; p.onerror = function (a) { var b = p.error; a.preventDefault(); Ad(m, b) }; null != a ? p.onsuccess = function (d) { if (d = d.target.result) { var e = Sb.cmp(d.key, a), f = m.w ? -1 : 1; if (e == f) c(d.key, d.primaryKey, d.value); else if (e == -f) d["continue"](a); else if (null != b) if (Sb.cmp(d.primaryKey, b) == f) c(d.key, d.primaryKey, d.value); else d["continue"](); else d["continue"]() } else c() } :
        (m.b = p, m.b.onsuccess = ia(m.la, m))
    }; l.Ea = function () { return !!this.b }; l.update = function (a) { var b = this.b.result; if (b) { var c = new E; a = b.update(a); a.onsuccess = function (a) { c.callback(a.target.result) }; a.onerror = function (a) { a.preventDefault(); c.l(a) }; return c } throw new Md("cursor gone"); }; l.clear = function () { var a = this.b.result; if (a) { var b = new E, a = a["delete"](); a.onsuccess = function () { b.callback(1) }; a.onerror = function (a) { a.preventDefault(); b.l(a) }; return b } throw new Md("cursor gone"); };
    l.advance = function (a) { var b = this.b.result; if (1 == a) b["continue"](); else b.advance(a) }; l.sa = function (a) { var b, c = this.b.result, d = this; this.b.onsuccess = function (e) { if (c = e.target.result) if (b = Sb.cmp(c.primaryKey, a), 0 == b || 1 == b && !d.w || -1 == b && d.w) d.b.onsuccess = ia(d.la, d), d.O(c.key, d.g ? c.primaryKey : void 0, c.value); else c["continue"](); else d.b.onsuccess = ia(d.la, d), d.O() }; c["continue"]() }; l.$ = function (a) { var b = this.b.result; if (null != a) b["continue"](a); else b["continue"]() }; function qe(a, b) { this.a = b } C(qe, Rd); l = qe.prototype; l.logger = null; l.ya = function (a, b) { function c(e) { var f = a.a.objectStore(b[e]).count(); f.onsuccess = function (f) { d[e] = f.target.result; e++; e == b.length ? J(a, d) : c(e) }; f.onerror = function (b) { b.preventDefault(); J(a, f.error, !0) } } var d = []; 0 == b.length ? J(a, []) : c(0) };
    l.N = function (a, b, c, d, e, f) {
        function g(d) { if (null == e[d]) if (k++, k == e.length) J(a, h, n); else { var u = d + 10; u < e.length && g(u) } var v, u = e[d]; v = f && null != f[d] ? b ? p.put(u, f[d]) : p.add(u, f[d]) : b ? p.put(u) : p.add(u); v.onsuccess = function (b) { k++; h[d] = b.target.result; k == e.length ? J(a, c ? h[0] : h, n) : (b = d + 10, b < e.length && g(b)) }; v.onerror = function (b) { k++; var f = v.error; gd(e[d]); h[d] = f; n = !0; b.preventDefault(); k == e.length ? J(a, c ? h[0] : h, n) : (b = d + 10, b < e.length && g(b)) } } var h = [], k = 0, n = !1, p = a.a.objectStore(d); if (0 < e.length) for (d = 0; 10 > d && d <
        e.length; d++) g(d); else J(a, [])
    }; l.Ya = function (a, b, c) { function d(h) { var n = c[h], p = a.a.objectStore(n.b), m; m = null === p.keyPath ? p.put(b[h], n.a) : p.put(b[h]); m.onsuccess = function (c) { f++; e[h] = c.target.result; f == b.length ? J(a, e, g) : (c = h + 10, c < b.length && d(c)) }; m.onerror = function (c) { f++; e[h] = m.error; g = !0; c.preventDefault(); f == b.length ? J(a, e, g) : (c = h + 10, c < b.length && d(c)) } } var e = [], f = 0, g = !1; if (0 < b.length) for (var h = 0; 10 > h && h < b.length; h++) d(h); else J(a, e, g) };
    l.Ga = function (a, b, c) { var d = a.a.objectStore(b).openCursor(Dc.only(c)); d.onsuccess = function (b) { if (b = b.target.result) { var c = b["delete"](); c.onsuccess = function () { J(a, 1) }; c.onerror = function () { J(a, c.error, !0) } } else J(a, 0) }; d.onerror = function (b) { b.preventDefault(); J(a, d.error, !0) } };
    l.ab = function (a, b) { function c(h) { h++; if (h >= b.length) 0 < g.length ? J(a, g, !0) : J(a, d); else { b[h].b != e && (e = b[h].b, f = a.a.objectStore(e)); var k = f["delete"](b[h].a); k.onsuccess = function () { d++; c(h) }; k.onerror = function (a) { a.preventDefault(); g[h] = k.error; c(h) } } } var d = 0, e, f, g = []; c(-1) };
    l.$a = function (a, b, c) { var d = a.a.objectStore(b), e = d.count(c); e.onsuccess = function (b) { var e = b.target.result, h = d["delete"](c); h.onsuccess = function () { J(a, e) }; h.onerror = function () { J(a, h.error, !0) } }; e.onerror = function (b) { b.preventDefault(); J(a, e.error, !0) } }; l.Qa = function (a, b, c) { var d = a.a.objectStore(b)["delete"](c); d.onsuccess = function () { J(a, void 0) }; d.onerror = function (b) { b.preventDefault(); J(a, d.error, !0) } };
    l.Za = function (a, b, c, d) { var e = [], f = a.a.objectStore(b).index(c).openCursor(d), g = 0; f.onsuccess = function (b) { var c = b.target.result; if (c) { var d = c["delete"](); d.onsuccess = function () { g++; c["continue"]() }; d.onerror = function (a) { e.push(d.error); a.preventDefault(); c["continue"]() } } else 0 < e.length ? J(a, e, !0) : J(a, g) }; f.onerror = function (b) { b.preventDefault(); J(a, f.error, !0) } };
    l.wa = function (a, b) { for (var c = b.length, d = 0, e = 0; e < c; e++) { var f = a.a.objectStore(b[e]).clear(); f.onsuccess = function () { d++; d == c && J(a, d) }; f.onerror = function (b) { d++; b.preventDefault(); d == c && J(a, f.error, !0) } } };
    l.Ca = function (a, b, c) { var d = a.a.objectStore(b), e = d.get(c); e.onsuccess = function (b) { var c = b.target.result; if (!d.keyPath && 0 == d.indexNames.length && Gb && x(c) && 0 <= c.indexOf(";base64,")) { '"' == c.charAt(0) && '"' == c.charAt(c.length - 1) && (c = c.substr(1, c.length - 2)); c = c.split(";base64,"); b = c[0].split(":")[1]; for (var c = window.atob(c[1]), e = c.length, k = new Uint8Array(e), n = 0; n < e; ++n) k[n] = c.charCodeAt(n); J(a, new Blob([k.buffer], { type: b })) } else J(a, b.target.result) }; e.onerror = function (b) { b.preventDefault(); J(a, e.error, !0) } };
    l.Ua = function (a, b, c) { function d(b) { if (null == c[b]) if (f++, e[b] = void 0, f == h) J(a, e); else { var n = b + 10; n < h && d(n) } var p; p = g.get(c[b]); p.onsuccess = function (c) { f++; e[b] = c.target.result; f == h ? J(a, e) : (c = b + 10, c < h && d(c)) }; p.onerror = function (b) { f++; b.preventDefault(); J(a, p.error, !0) } } var e = []; e.length = c.length; var f = 0, g = a.a.objectStore(b), h = c.length; if (0 < h) for (b = 0; 10 > b && b < h; b++) d(b); else J(a, []) };
    l.Va = function (a, b) { function c(f) { var h = b[f], k = a.a.objectStore(h.b).get(h.a); k.onsuccess = function (h) { e++; d[f] = h.target.result; e == b.length ? J(a, d) : (h = f + 10, h < b.length && c(h)) }; k.onerror = function (b) { e++; b.preventDefault(); J(a, k.error, !0) } } var d = []; d.length = b.length; var e = 0; if (0 < b.length) for (var f = 0; 10 > f && f < b.length; f++) c(f); else J(a, []) };
    l.Sa = function (a, b, c, d) { b = a.a.objectStore(b); c && P(c); var e; null != d ? (d = b.index(d), e = null != c ? d.count(c) : d.count()) : e = null != c ? b.count(c) : b.count(); e.onsuccess = function (b) { J(a, b.target.result) }; e.onerror = function (b) { b.preventDefault(); J(a, e.error, !0) } };
    l.ba = function (a, b, c, d, e, f, g, h, k, n) {
        var p = [], m = a.a.objectStore(c), u = h ? k ? "prevunique" : "prev" : k ? "nextunique" : "next"; c = ic(a) + " " + b + " " + c + (d ? ":" + d : "") + (e ? P(e) : ""); h && (c += " reverse"); k && (c += " unique"); if (n && r(n[0])) { k = d ? !r(n[1]) : !0; var v = n[0], y = e ? e.lower : void 0, A = e ? e.upper : void 0, S = e ? !!e.lowerOpen : !1; e = e ? !!e.upperOpen : !1; e = wc(h ? new N(y, v, S, k) : new N(v, A, k, e)); c += " starting from " + P(n[0]); r(n[1]) && (c += ", " + P(n[1])) } var T; T = 1 == b || 2 == b || 3 == b ? d ? m.index(d).openKeyCursor(e, u) : m.openCursor(e, u) : d ? m.index(d).openCursor(e,
        u) : m.openCursor(e, u); var L = !1; T.onsuccess = function (c) {
            if (c = c.target.result) {
                if (!L) { if (0 < g) { L = !0; c.advance(g); return } if (n && d && r(n[0])) if (r(n[1])) { var e = Sb.cmp(c.key, n[0]), k = h ? -1 : 1; if (0 == e) { e = Sb.cmp(c.primaryKey, n[1]); if (0 == e) { L = !0; c["continue"](); return } if (e == k) L = !0; else { c["continue"](); return } } else L = !0 } else L = !0; else L = !0 } 1 == b ? p.push(c.key) : 2 == b ? p.push(c.primaryKey) : 3 == b ? (k = {}, d && (k[d] = c.key), m.keyPath ? k[m.keyPath] = c.primaryKey : k._ROWID_ = c.primaryKey, p.push(k)) : 4 == b ? p.push(c.value) : p.push([c.key,
                c.primaryKey, c.value]); if (p.length < f) c["continue"](); else n && (n[0] = vc(c.key), n[1] = vc(c.primaryKey)), J(a, p)
            } else n && (n[0] = void 0, n[1] = void 0), J(a, p)
        }; T.onerror = function (b) { b.preventDefault(); J(a, T.error, !0) }
    }; function be(a, b) { this.a = b } C(be, qe); be.prototype.logger = null; be.prototype.b = function (a, b, c, d) { b = U(this.a, c); return new pe(a, 0, b, d) }; function re(a, b, c, d) { zd.call(this, a, 0, c, d); this.B = null; this.b = this.f = void 0 } C(re, zd); l = re.prototype; l.logger = null; l.S = function () { return this.b }; l.La = function (a, b, c, d, e) { re.D.La.call(this, a, b, c, d, e); this.B = x(b) ? Tc(this.a, b) : null }; l.ta = function () { return this.v }; function se(a, b) { a.f = void 0; a.b = void 0; a.v = void 0; if (r(b)) if (B(b)) { var c = Lc(b[a.a.g], a.a.type); a.b = c; if (a.g) { var d = Tc(a.a, a.i); a.f = Lc(b[a.i], d.type) } else a.f = c; a.v = a.oa ? c : te(b, a.a) } else a.v = b }
    function ue(a, b, c) {
        Tc(a.a, a.i); var d = [], e = a.i, f = a.V, g = a.f; if (null != f) { var h = f.lower, k = f.upper, n = f.lowerOpen, p = f.upperOpen; a.w ? k = null != k && -1 == M(k, g) ? k : g : h = null != h && 1 == M(h, g) ? h : g; null != h && null != k ? f = zc(h, k, !!n, !!p) : f = null != h ? Dc.lowerBound(h, !!n) : Dc.upperBound(k, !!p) } else f = a.w ? Dc.upperBound(g) : Dc.lowerBound(g); e = Sc(a.a, d, a.H, e, f, a.w, a.unique); c = a.w ? Dc.upperBound(c, !1) : Dc.lowerBound(c, !1); c = Sc(a.a, d, a.H, a.a.g, c, a.w, a.unique); e.o = e.o ? e.o + (" AND " + c.o) : c.o; c = "SELECT " + e.select + " FROM " + e.I + (e.o ? " WHERE " +
        e.o : "") + (e.group ? " GROUP BY " + e.group : "") + " ORDER BY " + e.J; c += " LIMIT 1"; Ib(a + ": continuePrimary:  SQL: " + c + " : " + P(d)); a.m.executeSql(c, d, function (c, d) { 0 < d.rows.length ? se(a, d.rows.item(0)) : se(a); b.call(a, a.f, a.b, a.v); b = null }, function (c, d) { Ad(a, d); se(a); b.call(a, a.b, a.f, a.v); b = null; return !1 })
    }
    function ve(a, b, c, d, e, f) {
        var g = !d; d = []; a.g && null != f && null != c ? c = Wc(a.a, a.H, d, a.B.getName(), a.V, c, g, f, a.w, a.unique) : null != c ? c = Vc(a.a, a.H, d, a.B ? a.B.getName() : null, a.V, a.w, a.unique, c, g) : (c = Rc(a.a, d, a.H, a.g ? a.B.f : a.a.g, a.V, a.w, a.unique), a.g && (c += ", " + a.a.c + " ASC")); c += " LIMIT 1"; 0 < e && (c += " OFFSET " + e); Ib(a + ": continue:  SQL: " + c + " : " + P(d)); a.m.executeSql(c, d, function (c, d) { 0 < d.rows.length ? se(a, d.rows.item(0)) : se(a); b.call(a, a.f, a.b, a.v); b = null }, function (c, d) {
            Ad(a, d); se(a); b.call(a, a.b, a.f, a.v); b = null;
            return !1
        })
    } l.Ea = function () { return !!this.m }; l.update = function (a) { if (!this.Ea()) throw new Md; var b = new E, c = this.S(); a = cd(this.a, a, c); var d = "REPLACE INTO " + Uc(this.a) + " (" + a.Ra.join(", ") + ") VALUES (" + a.bb.join(", ") + ")"; Ib(this + ': update "' + d + '" : ' + P(a.values)); this.m.executeSql(d, a.values, function () { b.callback(c) }, function (a, c) { b.l(c); return !1 }); return b };
    l.advance = function (a) { var b = this.f, c = this.b, d = !0; null == this.f || this.g && null == this.b || (--a, d = !1); ve(this, function (a, d, g) { var h = null != b && null != a && 0 == M(b, a); if (this.g) { var k = null != d && null != c && 0 == M(d, c); if (h && k) throw new Mb("current: " + b + ";" + c + " next: " + a + ";" + d); } else if (h) throw new Mb("current: " + b + " next: " + a); this.O(a, d, g) }, this.f, d, a, this.b) }; l.$ = function (a) { null != a ? ve(this, this.O, a, !0) : this.advance(1) }; l.openCursor = function (a, b) { ve(this, this.O, a, !1, 0, b) };
    l.clear = function () { if (!this.Ea()) throw new Md; var a = new E, b = this.a.g, b = "DELETE FROM " + Uc(this.a) + " WHERE " + b + " = ?", c = [this.S()]; Ib(this + ': clear "' + b + '" : ' + P(c)); this.m.executeSql(b, c, function (b, c) { a.callback(c.rowsAffected) }, function (b, c) { a.l(c); return !1 }); return a }; l.sa = function (a) { var b = M(a, this.b); if (0 == b || 1 == b && this.w || -1 == b && !this.w) throw new td(this + " to continuePrimaryKey  from " + this.b + " to " + a + " on " + this.L + " direction is wrong"); ue(this, this.O, a) }; function we(a, b) { this.a = b } C(we, Rd); l = we.prototype; l.logger = null;
    function te(a, b) {
        if (b.W && !b.keyPath && 0 == b.a.length && a._default_) { var c = a._default_; if (-1 == c.indexOf(";base64,")) return fd(c); '"' == c.charAt(0) && '"' == c.charAt(c.length - 1) && (c = c.substr(1, c.length - 2)); for (var d = c.split(";base64,"), c = d[0].split(":")[1], d = window.atob(d[1]), e = d.length, f = new Uint8Array(e), g = 0; g < e; ++g) f[g] = d.charCodeAt(g); return new Blob([f.buffer], { type: c }) } c = a._default_ ? fd(a._default_) : {}; null != b.keyPath && (d = Lc(a[b.keyPath], b.type), null != d && bd(b, c, d)); for (d = 0; d < b.a.length; d++) if (e = b.index(d),
        f = e.f, "_default_" != f && !e.h && !e.multiEntry && ("DATE" == e.type || b.W) && (g = Lc(a[f], e.type), r(g))) for (var f = c, h = 0; h < e.b.length; h++) h == e.b.length - 1 ? f[e.b[h]] = g : B(f[e.b[h]]) || (f[e.b[h]] = {}); return c
    }
    l.N = function (a, b, c, d, e, f) {
        function g(b, d) {
            if (null == e[b]) if (p++, p == e.length) J(a, n, m); else { var y = b + 2; y < e.length && g(y, d) } var A; A = r(f) ? cd(h, e[b], f[b]) : cd(h, e[b]); y = k + Uc(h) + " (" + A.Ra.join(", ") + ") VALUES (" + A.bb.join(", ") + ");"; d.executeSql(y, A.values, function (f, y) {
                function L(a, b) { var c = k + ta("ydn.db.me:" + h.getName() + ":" + a.getName()) + " (" + h.c + ", " + a.c + ") VALUES (?, ?)", e = [Gc(Q, h.type), Gc(b, a.type)]; d.executeSql(c, e, function () { }, function () { return !1 }) } p++; var Q = r(A.key) ? A.key : y.insertId; 1 > y.rowsAffected &&
                (m = !0, Q = new Ld(Q + " no-op")); for (var O = 0, la = h.a.length; O < la; O++) { var jb = h.index(O); if (jb.multiEntry) for (var kb = Tb(e[b], jb.keyPath), cc = (kb ? kb.length : 0) || 0, Ra = 0; Ra < cc; Ra++) L(jb, kb[Ra]) } c ? J(a, Q) : (n[b] = Q, p == e.length ? J(a, n, m) : (O = b + 2, O < e.length && g(O, f)))
            }, function (d, f) { p++; m = !0; 6 == f.code && (f.name = "ConstraintError"); if (c) J(a, f, !0); else if (n[b] = f, p == e.length) J(a, n, m); else { var h = b + 2; h < e.length && g(h, d) } return !1 })
        } b = !b; var h = U(this.a, d), k = b ? "INSERT INTO " : "INSERT OR REPLACE INTO "; d = a.a; var n = [], p = 0, m = !1; if (0 <
        e.length) for (b = 0; 2 > b && b < e.length; b++) g(b, d); else J(a, [])
    };
    l.Ya = function (a, b, c) { if (0 == c.length) J(a, []); else { for (var d = [], e = 0, f = 0, g = this, h = function (h, k) { for (var n = [], m = $c(U(g.a, h)), p = m ? void 0 : [], u = 0; u < k.length; u++) n.push(b[k[u]]), m || p.push(c[k[u]].a); m = fc(a); F(m, function (b) { for (var c = 0; c < k.length; c++) d[k[c]] = b[c]; e++; e == f && J(a, d) }, function () { e++; e == f && J(a, d, !0) }); g.N(m, !1, !1, h, n, p) }, k = "", n = [], p = [], m = 0; m < c.length; m++) { var u = c[m].b, v = c[m].a; u != k ? (f++, 0 < n.length && h(k, n), n = [m], p = [v], k = u) : (n.push(m), p.push(v)) } 0 < n.length && h(k, n) } };
    l.Ca = function (a, b, c) { var d = a.a, e = U(this.a, b); b = e.c; c = [Gc(c, e.type)]; b = "SELECT * FROM " + Uc(e) + " WHERE " + b + " = ?"; d.executeSql(b, c, function (b, c) { if (0 < c.rows.length) { var d = c.rows.item(0); null != d ? (d = te(d, e), J(a, d)) : J(a, void 0) } else J(a, void 0) }, function (b, c) { J(a, c, !0); return !1 }) };
    l.Ua = function (a, b, c) { function d(b, e) { var p = h.c, m = [Gc(c[b], h.type)], p = "SELECT * FROM " + Uc(h) + " WHERE " + p + " = ?"; e.executeSql(p, m, function (e, n) { g++; if (0 < n.rows.length) { var m = n.rows.item(0); null != m && (f[b] = te(m, h)) } else f[b] = void 0; g == c.length ? J(a, f) : (m = b + 10, m < c.length && d(m, e)) }, function (e) { g++; if (g == c.length) J(a, f); else { var h = b + 10; h < c.length && d(h, e) } return !1 }) } var e = a.a, f = [], g = 0, h = U(this.a, b); if (0 < c.length) for (b = 0; 10 > b && b < c.length; b++) d(b, e); else J(a, []) };
    l.Va = function (a, b) { function c(d, h) { var p = b[d], m = U(e.a, p.b), u = uc(p), p = m.c, u = [Gc(u, m.type)], p = "SELECT * FROM " + Uc(m) + " WHERE " + p + " = ?"; h.executeSql(p, u, function (e, h) { g++; if (0 < h.rows.length) { var n = h.rows.item(0); null != n && (f[d] = te(n, m)) } else f[d] = void 0; g == b.length ? J(a, f) : (n = d + 10, n < b.length && c(n, e)) }, function (b, c) { J(a, c, !0); return !1 }) } var d = a.a, e = this, f = [], g = 0; if (0 < b.length) for (var h = 0; 10 > h && h < b.length; h++) c(h, d); else J(a, []) };
    l.wa = function (a, b) { function c(d, g) { function h(a) { a = "DELETE FROM  " + ta("ydn.db.me:" + k.getName() + ":" + a.getName()); g.executeSql(a, []) } var k = U(e.a, b[d]), n = "DELETE FROM  " + Uc(k); g.executeSql(n, [], function (e) { d == b.length - 1 ? J(a, b.length) : c(d + 1, e) }, function (b, c) { J(a, c, !0); return !1 }); for (var n = 0, p = k.a.length; n < p; n++) { var m = k.index(n); m.multiEntry && h(m) } } var d = a.a, e = this; 0 < b.length ? c(0, d) : J(a, 0) };
    l.ab = function (a, b) { function c(h) { if (h >= b.length) J(a, f, g); else { var k = U(e.a, b[h].b), n = Gc(b[h].a, k.type), p = " WHERE " + k.c + " = ?", m = "DELETE FROM " + Uc(k) + p; d.executeSql(m, [n], function () { f++; c(h) }, function () { g = !0; c(h); return !1 }); h++; for (var m = function (a) { a = "DELETE FROM  " + ta("ydn.db.me:" + k.getName() + ":" + a.getName()) + p; d.executeSql(a, [n]) }, u = 0, v = k.a.length; u < v; u++) { var y = k.index(u); y.multiEntry && m(y) } } } var d = a.a, e = this, f = 0, g = !1; c(0) };
    l.Ga = function (a, b, c) { function d(a) { a = "DELETE FROM  " + ta("ydn.db.me:" + f.getName() + ":" + a.getName()) + h; e.executeSql(a, [g]) } var e = a.a, f = U(this.a, b), g = Gc(c, f.type), h = " WHERE " + f.c + " = ?"; b = "DELETE FROM " + Uc(f) + h; e.executeSql(b, [g], function (b, c) { J(a, c.rowsAffected) }, function (b, c) { J(a, c, !0); return !1 }); b = 0; for (c = f.a.length; b < c; b++) { var k = f.index(b); k.multiEntry && d(k) } }; l.Qa = function (a, b, c) { xe(this, a, b, void 0, c) }; l.$a = function (a, b, c) { xe(this, a, b, void 0, c) }; l.Za = function (a, b, c, d) { xe(this, a, b, c, d) };
    function xe(a, b, c, d, e) { function f(a) { a = "DELETE FROM  " + ta("ydn.db.me:" + h.getName() + ":" + a.getName()) + n; g.executeSql(a, k) } var g = b.a, h = U(a.a, c); a = "DELETE FROM " + Uc(h); c = []; var k = [], n = ""; null != e && (r(d) ? (d = Tc(h, d), Fc(d.c, d.type, e, k, c)) : Fc(h.c, h.type, e, k, c), n = " WHERE " + k.join(" AND ")); g.executeSql(a + n, c, function (a, c) { J(b, c.rowsAffected) }, function (a, c) { J(b, c, !0); return !1 }); e = 0; for (d = h.a.length; e < d; e++) a = h.index(e), a.multiEntry && f(a) }
    l.ya = function (a, b) { function c(f) { var g = "SELECT COUNT(*) FROM " + ta(b[f]); d.executeSql(g, [], function (d, g) { var n = g.rows.item(0); e[f] = parseInt(n["COUNT(*)"], 10); f++; f == b.length ? J(a, e) : c(f) }, function (b, c) { J(a, c, !0); return !1 }) } var d = a.a, e = []; 0 == b.length ? J(a, 0) : c(0) }; l.Sa = function (a, b, c, d, e) { var f = []; b = Rc(U(this.a, b), f, 6, d, c, !1, e); a.a.executeSql(b, f, function (b, c) { var d; a: { if (d = c.rows.item(0)) for (var e in d) if (d.hasOwnProperty(e)) { d = d[e]; break a } d = void 0 } J(a, d) }, function (b, c) { J(a, c, !0); return !1 }) };
    l.ba = function (a, b, c, d, e, f, g, h, k, n) {
        var p = [], m = U(this.a, c), u = m.g, v = m.type, y = v, A = null != d && d !== u ? Tc(m, d) : null, S = d || u; A && (y = A.type); c = []; if (n && r(n[0])) { var T = n[0]; d = A && r(n[1]) ? Wc(m, b, c, A.getName(), e, T, !0, n[1], h, k) : Vc(m, b, c, d, e, h, k, T, !0) } else d = Rc(m, c, b, S, e, h, k); z(f) && (d += " LIMIT " + f); z(g) && (d += " OFFSET " + g); P(c); a.a.executeSql(d, c, function (c, d) {
            for (var e = d.rows.length, f, g = 0; g < e; g++) f = d.rows.item(g), 2 == b ? p[g] = Lc(f[u], v) : 1 == b ? p[g] = Lc(f[S], y) : 3 == b ? p[g] = [Lc(f[S], y), Lc(f[u], v)] : null != f && (p[g] = te(f, m)); n &&
            f && (n[0] = Lc(f[S], y), n[1] = Lc(f[u], v)); J(a, p)
        }, function (b, c) { J(a, c, !0); return !1 })
    }; function ce(a, b) { this.a = b } C(ce, we); ce.prototype.logger = null; ce.prototype.b = function (a, b, c, d) { b = U(this.a, c); return new re(a, 0, b, d) }; function ye(a, b) { this.u = null; this.ha = b || NaN } l = ye.prototype;
    l.connect = function (a, b) {
        function c(a, c) { for (var d = 0; d < b.stores.length; d++) ze(a, c, b.stores[d]); for (var e = a.objectStoreNames, f = e.length, d = 0; d < f; d++) md(b, e[d]) || a.deleteObjectStore(e[d]) } function d(a, b) { f.c || (r(b) ? (e.u = null, f.l(b)) : (e.u = a, e.u.onabort = function () { }, e.u.onerror = function () { }, e.u.onversionchange = function (a) { if (e.u && (e.u.onabort = null, e.u.onblocked = null, e.u.onerror = null, e.u.onversionchange = null, !a.defaultPrevented)) { e.u.close(); e.u = null; var b = Error(); b.name = a.type; e.Ja(b) } }, f.callback(parseFloat(g)))) }
        var e = this, f = new E, g = void 0, h = b.version, k; k = r(h) ? Sb.open(a, h) : Sb.open(a); k.onsuccess = function (f) {
            var h = f.target.result; r(g) || (g = h.version); if (b.b) e.R(function (e) { if (b instanceof od) for (var f = 0; f < e.stores.length; f++) md(b, e.stores[f].getName()) || pd(b, e.stores[f].clone()); if (0 < nd(b, e, !1, !0).length) { e = z(h.version) ? h.version + 1 : 1; h.close(); var g = Sb.open(a, e); g.onupgradeneeded = function (a) { c(a.target.result, g.transaction) }; g.onsuccess = function (a) { d(a.target.result) }; g.onerror = function () { d(null) } } else d(h) },
            void 0, h); else if (b.version > h.version) { var k = h.setVersion(b.version); k.a = function (a) { d(null, a) }; k.onsuccess = function () { c(h, k.transaction) } } else e.R(function (a) { a = nd(b, a, !1, !0); 0 < a.length ? d(null, new rd("different schema: " + a)) : d(h) }, void 0, h)
        }; k.onupgradeneeded = function (a) { a = a.target.result; g = NaN; c(a, k.transaction) }; k.onerror = function (a) { d(null, a) }; k.onblocked = function (a) { d(null, a) }; z(this.ha) && !isNaN(this.ha) && setTimeout(function () { "done" != k.readyState && d(null, new Qd("connection timeout after " + e.ha)) },
        this.ha); return f
    }; l.ha = 18E4; l.Ja = function () { }; l.gb = function () { }; l.Xa = function () { }; l.eb = function () { return "indexeddb" }; l.cb = function () { return this.u || null }; l.Ia = function () { return !!this.u }; l.logger = null; l.u = null; l.fb = function () { return this.u ? parseFloat(this.u.version) : void 0 };
    l.R = function (a, b, c) {
        c = c || this.u; if (r(b)) { if (null === b) { if (0 == c.objectStoreNames.length) { a(new kd(c.version)); return } throw new qd; } c = b.db } else { b = []; for (var d = c.objectStoreNames.length - 1; 0 <= d; d--) b[d] = c.objectStoreNames[d]; if (0 == b.length) { a(new kd(c.version)); return } b = c.transaction(b, Qb) } for (var e = c.objectStoreNames, f = [], g = e.length, d = 0; d < g; d++) {
            for (var h = b.objectStore(e[d]), k = [], n = 0, p = h.indexNames.length; n < p; n++) { var m = h.index(h.indexNames[n]); k[n] = new Ic(m.keyPath, void 0, m.unique, m.multiEntry, m.name) } f[d] =
            new Pc(h.name, h.keyPath, h.autoIncrement, void 0, k)
        } b = new kd(c.version, f); a(b)
    };
    function ze(a, b, c) {
        function d() { var b = { autoIncrement: !!c.b }; null != c.keyPath && (b.keyPath = c.keyPath); return a.createObjectStore(c.getName(), b) } if (a.objectStoreNames.contains(c.getName())) {
            b = b.objectStore(c.getName()); Nc(c.keyPath || "", b.keyPath || "") ? (a.deleteObjectStore(c.getName()), b = d()) : ca(b.autoIncrement) && ca(c.b) && b.autoIncrement != c.b && (a.deleteObjectStore(c.getName()), b = d()); for (var e = b.indexNames, f = 0; f < c.a.length; f++) { var g = c.index(f); !e.contains(g.getName()) && g.g && b.clear() } for (var h = 0, k = 0, n =
            0, f = 0; f < c.a.length; f++) {
                var g = c.index(f), p = !1; if (e.contains(g.getName())) { var m = b.index(g.getName()), u = null != m.unique && null != g.unique && m.unique != g.unique, v = null != m.multiEntry && null != g.multiEntry && m.multiEntry != g.multiEntry, m = null != m.keyPath && null != g.keyPath && !!Nc(m.keyPath, g.keyPath); if (u || v || m) b.deleteIndex(g.getName()), p = !0, h--, n++ } else "BLOB" != g.type && (p = !0); p && (g.unique || g.multiEntry ? (p = { unique: g.unique, multiEntry: g.multiEntry }, b.createIndex(g.getName(), g.keyPath, p)) : b.createIndex(g.getName(),
                g.keyPath), h++)
            } for (f = 0; f < e.length; f++) Yc(c, e[f]) || (b.deleteIndex(e[f]), k++)
        } else for (b = d(), f = 0; f < c.a.length; f++) g = c.index(f), "BLOB" != g.type && (g.unique || g.multiEntry ? (p = { unique: g.unique, multiEntry: g.multiEntry }, b.createIndex(g.getName(), g.keyPath, p)) : b.createIndex(g.getName(), g.keyPath))
    }
    l.Aa = function (a, b, c, d) { var e = this.u; if (!b) { b = []; for (var f = e.objectStoreNames.length - 1; 0 <= f; f--) b[f] = e.objectStoreNames[f] } 0 == b.length ? a(null) : (b = e.transaction(b, c), b.oncomplete = function (a) { d("complete", a) }, b.onabort = function (a) { d("abort", a) }, a(b), a = null) }; l.close = function () { this.u.close() }; kc.push(function (a, b) { if (!Sb || b && "indexeddb" != b) return null; var c = Sb.deleteDatabase(a), d = new I("vc"); c.onblocked = function (a) { Ob(d, a) }; c.onerror = function (a) { d.l(a) }; c.onsuccess = function (a) { d.callback(a) }; return d }); function Ae(a, b) { this.a = r(a) ? a : 4194304; this.b = b || "websql" } l = Ae.prototype;
    l.connect = function (a, b) {
        function c(a, b) {
            var c = a.version ? parseInt(a.version, 10) : 0, f = !1, g = 0; a.changeVersion(a.version, (b.b ? isNaN(c) ? 1 : c + 1 : b.version) + "", function (c) {
                e.R(function (a) {
                    f = !0; for (var d = 0; d < b.count() ; d++) { var e = U(a, (b.stores[d] || null).getName()), e = e ? Zc(e, b.stores[d] || null) : null; Be(c, b.stores[d] || null, function (a) { a && g++ }, e) } for (e = 0; e < a.count() ; e++) if (d = a.stores[e] || null, !md(b, d.getName())) if (b instanceof od) pd(b, d); else for (var h = Ce(d), d = 0; d < h.length; d++) c.executeSql(h[d], [], function () { }, function (a,
                    b) { throw b; })
                }, c, a)
            }, function (a) { throw a; }, function () { f && d(a) })
        } function d(a, b) { r(b) ? (e.C = null, g.l(b)) : (e.C = a, g.callback(parseFloat(f))) } var e = this, f = NaN, g = new E, h = null; try { "sqlite" == this.b ? q.sqlitePlugin ? (h = q.sqlitePlugin.openDatabase(a, "", a, this.a), h.readTransaction || (h.readTransaction = h.transaction), h.changeVersion = function (a, b, c, d, e) { h.transaction(c, d, e) }) : (h = null, this.pa = Error("sqlitePlugin not found.")) : h = q.openDatabase(a, "", a, this.a) } catch (k) {
            if ("SECURITY_ERR" == k.name) h = null, this.pa = new Pd(k);
            else throw k;
        } h ? (f = h.version || "", null != b.version && b.version == h.version ? d(h) : this.R(function (a) { nd(b, a, !0, !1) ? c(h, b) : d(h) }, null, h)) : d(null, this.pa); return g
    }; l.eb = function () { return this.b }; l.pa = null; l.C = null; l.cb = function () { return this.C || null }; l.logger = null; l.Ja = function () { }; l.gb = function () { };
    function Ce(a) { var b = []; b.push("DROP TABLE IF EXISTS " + ta(a.getName())); for (var c = 0, d = a.a.length; c < d; c++) { var e = a.index(c); e.multiEntry && (e = "DROP TABLE IF EXISTS " + ta("ydn.db.me:" + a.getName() + ":" + e.getName()), b.push(e)) } return b }
    function De(a) {
        var b = a.m, c = "CREATE TABLE IF NOT EXISTS " + Uc(a) + " (", d = a.c, c = c + (d + " " + b + " PRIMARY KEY "); a.b && (c += " AUTOINCREMENT "); if (!a.W || !a.keyPath && 0 == a.a.length) c += " ,_default_ BLOB"; for (var e = [], f = [d], g = 0, h = a.a.length; g < h; g++) { var k = a.index(g), n = ""; if (k.multiEntry) n = k.unique ? " UNIQUE " : "", k = "CREATE TABLE IF NOT EXISTS " + ta("ydn.db.me:" + a.getName() + ":" + k.getName()) + " (" + d + " " + b + ", " + k.c + " " + k.i + n + ")", e.push(k); else { k.unique && (n = " UNIQUE "); var p = k.c; -1 == f.indexOf(p) && (c += ", " + p + " " + k.i + n, f.push(p)) } } e.unshift(c +
        ")"); return e
    } l.fb = function () { return this.C ? parseFloat(this.C.version) : void 0 };
    l.R = function (a, b, c) {
        function d(a, b) { throw b; } function e(b, c) {
            if (c && c.rows) {
                for (var d = 0; d < c.rows.length; d++) {
                    var e = c.rows.item(d); if ("__WebKitDatabaseInfoTable__" != e.name && "sqlite_sequence" != e.name && "table" == e.type) {
                        var f = null !== e && "sql" in e ? e.sql : void 0, v = f.substr(f.indexOf("("), f.lastIndexOf(")")).match(/(?:"[^"]*"|[^,])+/g), y = void 0, A, f = [], S = !1, T = !1, L = 0; for (; L < v.length; L++) {
                            var Q = v[L].match(/\w+|"[^"]+"/g), O = Ba(Q, function (a) { return a.toUpperCase() }), la = qa(Q[0]), Q = Jc(O[1]); if (-1 != O.indexOf("PRIMARY") &&
                            -1 != O.indexOf("KEY")) { A = Q; if (x(la) && !/^[\s\xa0]*$/.test(la) && "_ROWID_" != la) { var jb = la.split(","), y = la; 1 < jb.length && (y = jb, A = void 0) } -1 != O.indexOf("AUTOINCREMENT") && (S = !0) } else if ("_ROWID_" != la) if ("_default_" == la) T = !0; else { var kb = "UNIQUE" == O[2]; 0 == la.lastIndexOf(e.tbl_name + "-", 0) && (la = la.substr(e.tbl_name.length + 1)); O = new Ic(la, Q, kb); f.push(O) }
                        } if (0 == e.name.lastIndexOf("ydn.db.me:", 0)) {
                            if (y = e.name.split(":"), 3 <= y.length) {
                                var cc = y[1], Ra = y[2], y = new Ic(Ra, Q, kb, !0), v = Ea(h, function (a) {
                                    return a.getName() ===
                                    cc
                                }); 0 <= v ? (L = h[v], (O = Yc(L, Ra)) ? f[O] = y : (O = Ea(f, function (a) { return a.getName() == Ra }), 0 <= O ? f[O] = y : f.push(y)), h[v] = new Pc(L.getName(), L.keyPath, S, A, f, void 0, !T)) : h.push(new Pc(cc, void 0, !1, void 0, [y]))
                            }
                        } else if (v = Ea(h, function (a) { return a.getName() === e.name }), 0 <= v) { for (d = 0; d < h[v].a.length; d++) { var L = h[v].index(d), Ke = L.getName(); -1 == Ea(f, function (a) { return a.getName() == Ke }) && f.push(L) } h[v] = new Pc(e.name, y, S, A, f, void 0, !T) } else f = new Pc(e.name, y, S, A, f, void 0, !T), h.push(f)
                    }
                } d = new kd(g, h); a(d)
            }
        } var f = this,
        g = (c = c || this.C) && c.version ? parseFloat(c.version) : void 0, g = isNaN(g) ? void 0 : g, h = []; b ? b.executeSql("SELECT * FROM sqlite_master", [], e, d) : c.readTransaction(function (b) { f.R(a, b, c) }, function (a) { throw a; }, e)
    }; function Be(a, b, c, d) { function e(b) { a.executeSql(b, [], function () { f++; f == g.length && (c(!0), c = null) }, function (a, b) { f++; f == g.length && (c(!1), c = null); throw new Od(b, '"'); }) } var f = 0, g = De(b); if (d) { if (0 == dd(b, d).length) { c(!0); c = null; return } g.unshift.apply(g, Ce(d)) } for (b = 0; b < g.length; b++) e(g[b]) } l.Ia = function () { return !!this.C };
    l.close = function () { this.C = null }; l.Aa = function (a, b, c, d) { function e(a) { d("abort", a) } function f() { d("complete", { type: "complete" }) } function g(b) { a(b) } null === this.C && (a(null), d("abort", this.pa)); c == Qb ? this.C.readTransaction(g, e, f) : c == Rb ? this.C.changeVersion(this.C.version, this.C.version + 1 + "", g, e, f) : this.C.transaction(g, e, f) };
    kc.push(function (a, b) { if (da(q.openDatabase) && (!b || "websql" == b)) { var c = new Ae, d = new od, d = c.connect(a, d), e = function () { }; d.A(function () { c.Aa(function (a) { a.executeSql('SELECT * FROM sqlite_master WHERE type = "table"', [], function (b, c) { if (c && c.rows) for (var d = c.rows.length, e = 0, p = 0; p < d; p++) { var m = c.rows.item(p); "__WebKitDatabaseInfoTable__" != m.name && "sqlite_sequence" != m.name && (e++, a.executeSql("DROP TABLE " + m.name)) } }, function (a, b) { throw b; }) }, [], H, e) }); d.Na(function () { }) } }); Ae.prototype.Xa = function () { }; me.prototype.za = function (a) { return "indexeddb" == a && Sb ? new ye(0, this.v) : "sqlite" == a && q.sqlitePlugin ? new Ae(this.m, "sqlite") : "websql" == a && da(q.openDatabase) ? new Ae(this.m) : null }; me.prototype.branch = me.prototype.jb; me.prototype.getTxNo = me.prototype.Db; ae.prototype.getTxNo = ae.prototype.g; me.prototype.run = me.prototype.sb; Y.prototype.branch = Y.prototype.jb; Y.prototype.add = Y.prototype.add; Y.prototype.addAll = Y.prototype.ja; Y.prototype.get = Y.prototype.get; Y.prototype.keys = Y.prototype.aa; Y.prototype.keysByIndex = Y.prototype.fa; Y.prototype.values = Y.prototype.values; Y.prototype.valuesByIndex = Y.prototype.ia; Y.prototype.put = Y.prototype.put; Y.prototype.putAll = Y.prototype.ra; Y.prototype.clear = Y.prototype.clear; Y.prototype.remove = Y.prototype.ua; Y.prototype.count = Y.prototype.count; X.prototype.add = X.prototype.add;
    X.prototype.addAll = X.prototype.ja; X.prototype.get = X.prototype.get; X.prototype.keys = X.prototype.aa; X.prototype.keysByIndex = X.prototype.fa; X.prototype.values = X.prototype.values; X.prototype.valuesByIndex = X.prototype.ia; X.prototype.put = X.prototype.put; X.prototype.putAll = X.prototype.ra; X.prototype.clear = X.prototype.clear; X.prototype.remove = X.prototype.ua; X.prototype.count = X.prototype.count; ma("ydn.db.Key", tc); tc.prototype.id = tc.prototype.nb; tc.prototype.parent = tc.prototype.wb; tc.prototype.storeName = tc.prototype.xb;
    ma("ydn.db.KeyRange", N); N.upperBound = Ac; N.lowerBound = Bc; N.bound = zc; N.only = yc; N.starts = Cc; pc.prototype.store_name = pc.prototype.b; pc.prototype.getStoreName = pc.prototype.a; function Ee(a, b, c) { Y.call(this, a, b, c) } C(Ee, oe); ma("ydn.db.Storage", Ee); function Fe(a, b, c) { this.db = a; this.b = b; this.type = c || 0; this.c = null }; function Ge(a) { Jd.call(this, a) } C(Ge, Jd);
    Ge.prototype.c = function (a, b) {
        var c = [], d = b[0]; if (null == d) return []; for (var e = !0, f = !1, g = d, h = [], k = 1; k < a.length; k++) if (null != b[k]) { var n = M(d, b[k]); h[k] = n; this.a ? -1 == n ? e = !1 : 1 == n && (e = !1, f = !0, -1 == M(b[k], g) && (g = b[k])) : 1 == n ? e = !1 : -1 == n && (e = !1, f = !0, 1 == M(b[k], g) && (g = b[k])) } else e = !1, f = !0; if (e) for (f = 0; f < a.length; f++) null != b[f] && (c[f] = !0); else if (f) for (f = 0; f < a.length; f++) null != b[f] && (this.a ? -1 == M(g, b[f]) && (c[f] = g) : 1 == M(g, b[f]) && (c[f] = g)); else for (k = this.a ? -1 : 1, f = 1; f < a.length; f++) h[f] === k && (c[f] = d); return e ? (this.b &&
        this.b.push(g), c) : { continuePrimary: c }
    }; function He(a) { Jd.call(this, a) } C(He, Jd); He.prototype.logger = null;
    He.prototype.c = function (a, b) {
        function c(a, b) { var c = a.slice(0, a.length - 1); c.push(b); return c } function d(a) { return a[a.length - 1] } var e = []; if (0 == a.length || null == a[0] || null == a[0]) return []; for (var f = !0, g = 0, h = d(a[g]), k = [], n = 1; n < a.length; n++) if (null != a[n]) { var p = d(a[n]), m = M(h, p); k[n] = m; this.a ? -1 == m ? f = !1 : 1 == m && (f = !1, h = p, g = 1) : 1 == m ? f = !1 : -1 == m && (f = !1, h = p, g = 1) } else return []; n = this.a ? -1 : 1; if (f) { for (f = 0; f < a.length; f++) null != a[f] && (e[f] = !0); this.b && this.b.push(b[0]); return e } if (0 == g) for (f = 1; f < a.length; f++) k[f] ==
        n && (e[f] = c(a[f], h)); else for (f = 0; f < a.length; f++) f != g && null != a[f] && M(h, d(a[f])) === n && (e[f] = c(a[f], h)); return { "continue": e }
    }; function Ie(a, b, c, d) { this.c = a; this.a = b || null; this.h = !!c; this.g = !!d; this.b = []; this.f = [] } function Je(a, b) { for (var c = b.length - 1; 0 <= c; c--) if (b[c] == a.b[a.b.length - 1]) b = b.slice(0, c); else break; a.f = b; if (a.a && a.b[0]) { if (a.a.lower != a.a.upper) throw new Ld("Ordering no allowed with range query"); a.a = Cc([a.a.lower]) } return null }
    function Le(a, b) { if ((0 != a.b.length || 0 != a.f.length) && Me(a) && !Ne(a)) throw new Ld('Require index "' + a.b.concat(a.f).join(", ") + '" not found in store "' + a.c.getName() + '"'); var c = new Ed(a.c.getName(), Oe(a), a.a, a.h, a.g, !b); c.s = a.b.length; return c } Ie.prototype.clone = function () { var a = new Ie(this.c, this.a, this.h, this.g); a.f = this.f.slice(); a.b = this.b.slice(); return a }; function Ne(a) { var b = a.b.concat(a.f), c = Xc(a.c, b); return c || b[b.length - 1] == a.c.keyPath && (c = Xc(a.c, b.slice(0, b.length - 1))) ? c : null }
    function Oe(a) { return (a = Ne(a)) ? a.getName() : void 0 } Ie.prototype.unique = function (a) { var b = this.clone(); b.g = !!a; return b }; function Me(a) { return 0 < a.b.length ? !0 : 1 == a.f.length ? a.f[0] != a.c.keyPath : 1 < a.f.length ? !0 : !1 }
    Ie.prototype.o = function (a, b, c, d, e) {
        c = Hc(b, c, d, e); if (0 < this.b.length) if (this.a) if (null != this.a.lower && null != this.a.upper && 0 == M(this.a.lower, this.a.upper)) a = t(this.a.lower) ? this.a.lower.slice().push(b) : [this.a.lower, b], d = null != d ? d : "\uffff", c = t(this.a.upper) ? this.a.upper.slice().push(d) : [this.a.upper, d], this.a = Hc(b, a, d, c); else if (1 == this.b.length && this.b[0] == a || t(a) && Ia(this.b, a)) this.a = Ec(this.a, c); else return "cannot use where clause with existing filter"; else return "cannot use where clause with existing filter";
        else this.b = t(a) ? a : [a], this.a = this.a ? Ec(this.a, c) : c; return null
    }; function Pe(a, b, c, d) { Fe.call(this, a, b, c); this.a = d } C(Pe, Fe); Pe.prototype.open = function () { var a = { push: function () { } }, a = Qe(this) ? new He(a) : new Ge(a); return ge(this.db, a, Re(this)) }; function Re(a) { for (var b = [], c = 0; c < a.a.length; c++) b[c] = Le(a.a[c]); return b } function Qe(a) { for (var b = 0; b < a.a.length; b++) if (0 < a.a[b].b.length) return !0; return !1 } Pe.prototype.Da = function () { return this.a.slice() }; Pe.prototype.select = function () { throw Error("not impl"); }; function Z(a, b, c, d) { Fe.call(this, a, b, c); this.a = d } C(Z, Fe); l = Z.prototype; l.yb = function () { return new Z(this.db, this.b, this.type, this.a.clone()) }; l.Ab = function () { var a = this.a, b = a.clone(); b.h = !a.h; return new Z(this.db, this.b, this.type, b) }; l.unique = function (a) { if (!ca(a)) throw new G("unique value must be a boolean, but " + typeof a + " found"); a = this.a.unique(a); return new Z(this.db, this.b, this.type, a) };
    l.J = function (a) { var b = x(a) ? [a] : a; a = this.a.clone(); if (b = Je(a, b)) throw Error(b); return new Z(this.db, this.b, this.type, a) };
    l.o = function (a, b, c, d, e) { if (Oe(this.a) && Oe(this.a) != a) { var f = Hc(b, c, d, e), f = new Ie(U(this.b, this.a.c.getName()), f, this.a.h, this.a.g), f = (new Z(this.db, this.b, this.type, f)).Da().concat(this.Da()); return new Pe(this.db, this.b, this.type, f) } if (!Oe(this.a) && !Yc(U(this.b, this.a.c.getName()), a)) throw new G('index "' + a + '" not exists in ' + this.a.c.getName()); f = this.a.clone(); if (a = f.o(a, b, c, d, e)) throw new G(a); return new Z(this.db, this.b, this.type, f) };
    l.select = function (a) {
        var b = U(this.b, this.a.c.getName()), c = x(a) ? [a] : a, d = this.type; a = this.a.clone(); d = Oe(this.a); if (1 == c.length) if (d = c[0], "_ROWID_" == d || d == b.keyPath) d = 2; else if (d && "*" != d) if (Yc(b, d)) { if (b = Je(a, c)) throw new G(b); d = 1 } else throw new G('Invalid select "' + d + '", index not found in store "' + b.getName() + '"'); else d = 4; else if (2 == c.length) {
            if (!d) throw new G("Only primary key can be selected for this query."); for (var e = 0; 2 > e; e++) {
                var f; if (f = "_ROWID_" != c[e]) {
                    f = b; var g = c[e]; f = !(r(f.keyPath) && (1 ==
                    f.h.length ? f.keyPath === g : w(g) && Ia(f.h, g)))
                } if (f && c[e] != d) throw new G('select field name must be "' + d + '", but "' + c[e] + '" found.');
            } d = 3
        } else throw new G("Selecting more than 2 field names is not supported, but " + c.length + " fields selected."); return new Z(this.db, this.b, d, a)
    }; l.zb = function (a) { a = a || 100; var b = 4, c = Se(this); this.c && this.c[0] && (c = Id(c, this.c[0], this.c[1])); if (2 == this.type || 3 == this.type || 1 == this.type) b = this.type; a = he(this.db, b, c, a); a.A(function () { "rest" == c.g && (this.c = [c.i, c.j]) }, this); return a };
    l.Da = function () { return [this.a.clone()] }; function Se(a, b) { var c = !!b; r(b) || (c = 2 == a.type || 3 == a.type || 1 == a.type); return Le(a.a, !c) } l.rb = function (a, b) { var c = Se(this); c.c && (c = new Ed(c.b, c.f, c.a, Gd(c), Hd(c), !1, c.m)); var d = this.db.open(function (c) { var f = c.ta(); if (x(a)) Ub(f, a, b); else if (t(a)) for (var g = 0; g < a.length; g++) Ub(f, a[g], b[g]); else if (B(a)) for (g in a) a.hasOwnProperty(g) && (f[g] = a[g]); wb(d, c.update(f)) }, c, H, this); return d }; l.open = function (a, b) { return this.db.open(a, Se(this, !1), H, b) };
    l.count = function () { return Me(this.a) ? this.a.g ? this.db.count(Le(this.a)) : this.db.count(this.a.c.getName(), Oe(this.a), this.a.a) : this.db.count(this.a.c.getName(), this.a.a) }; l.clear = function () { return Me(this.a) ? this.db.clear(this.a.c.getName(), Oe(this.a), this.a.a) : this.db.clear(this.a.c.getName(), this.a.a) };
    oe.prototype.I = function (a, b, c, d, e) { if (!md(this.c, a)) throw new G('Store "' + a + '" not found.'); var f = null; if (r(b)) { if (!r(c)) throw new G("boundary value must be defined."); f = Hc(b, c, d, e) } else if (r(d)) throw new G("second boundary must not be defined."); a = new Ie(U(this.c, a), f); return new Z(this.b, this.c, null, a) };
    ee.prototype.I = function (a, b, c, d, e) { if (!md(this.b, a)) throw new G('Store "' + a + '" not found.'); var f = null; if (r(b)) { if (!r(c)) throw new G("boundary value must be defined."); f = Hc(b, c, d, e) } else if (r(d)) throw new G("second boundary must not be defined."); a = new Ie(U(this.b, a), f); return new Z(this, this.b, null, a) }; Z.prototype.copy = Z.prototype.yb; Z.prototype.count = Z.prototype.count; Z.prototype.list = Z.prototype.zb; Z.prototype.order = Z.prototype.J; Z.prototype.patch = Z.prototype.rb; Z.prototype.reverse = Z.prototype.Ab; Z.prototype.unique = Z.prototype.unique; Z.prototype.where = Z.prototype.o; oe.prototype.from = oe.prototype.I; ee.prototype.from = ee.prototype.I;

    //# sourceMappingURL=ydn.db-is-core-qry.js.map
    return ydn;
}, (this || {}));
